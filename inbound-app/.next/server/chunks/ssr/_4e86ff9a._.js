module.exports={754563:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({computeRoute:()=>j,default:()=>o,inject:()=>l,pageview:()=>n,track:()=>m});var d=()=>{window.va||(window.va=function(...a){(window.vaq=window.vaq||[]).push(a)})};function e(){return"undefined"!=typeof window}function f(){return"production"}function g(){return(e()?window.vam:f())||"production"}function h(){return"production"===g()}function i(){return"development"===g()}function j(a,b){if(!a||!b)return a;let c=a;try{let a=Object.entries(b);for(let[b,d]of a)if(!Array.isArray(d)){let a=k(d);a.test(c)&&(c=c.replace(a,`/[${b}]`))}for(let[b,d]of a)if(Array.isArray(d)){let a=k(d.join("/"));a.test(c)&&(c=c.replace(a,`/[...${b}]`))}return c}catch(b){return a}}function k(a){return RegExp(`/${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(a={debug:!0}){var b;if(!e())return;!function(a="auto"){if("auto"===a){window.vam=f();return}window.vam=a}(a.mode),d(),a.beforeSend&&(null==(b=window.va)||b.call(window,"beforeSend",a.beforeSend));let c=a.scriptSrc?a.scriptSrc:i()?"https://va.vercel-scripts.com/v1/script.debug.js":a.basePath?`${a.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${c}"]`))return;let g=document.createElement("script");g.src=c,g.defer=!0,g.dataset.sdkn="@vercel/analytics"+(a.framework?`/${a.framework}`:""),g.dataset.sdkv="1.5.0",a.disableAutoTrack&&(g.dataset.disableAutoTrack="1"),a.endpoint?g.dataset.endpoint=a.endpoint:a.basePath&&(g.dataset.endpoint=`${a.basePath}/insights`),a.dsn&&(g.dataset.dsn=a.dsn),g.onerror=()=>{let a=i()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${c}. ${a}`)},i()&&!1===a.debug&&(g.dataset.debug="false"),document.head.appendChild(g)}function m(a,b,c){var d,f;if(!e()){let a="[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment";if(h())console.warn(a);else throw Error(a);return}if(!b){null==(d=window.va)||d.call(window,"event",{name:a,options:c});return}try{let d=function(a,b){if(!a)return;let c=a,d=[];for(let[e,f]of Object.entries(a))"object"==typeof f&&null!==f&&(b.strip?c=function(a,{[a]:b,...c}){return c}(e,c):d.push(e));if(d.length>0&&!b.strip)throw Error(`The following properties are not valid: ${d.join(", ")}. Only strings, numbers, booleans, and null are allowed.`);return c}(b,{strip:h()});null==(f=window.va)||f.call(window,"event",{name:a,data:d,options:c})}catch(a){a instanceof Error&&i()&&console.error(a)}}function n({route:a,path:b}){var c;null==(c=window.va)||c.call(window,"pageview",{route:a,path:b})}var o={inject:l,track:m,computeRoute:j}},123546:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Card:()=>b,CardContent:()=>i,CardDescription:()=>h,CardFooter:()=>j,CardHeader:()=>c,CardTitle:()=>g});var d=a.i(674420),e=a.i(722851),f=a.i(284103);let b=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));b.displayName="Card";let c=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));c.displayName="CardHeader";let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b}));g.displayName="CardTitle";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));h.displayName="CardDescription";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));i.displayName="CardContent";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));j.displayName="CardFooter"}},195743:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm3.843,5.708l-4.25,5.5c-.136,.176-.343,.283-.565,.291-.01,0-.019,0-.028,0-.212,0-.415-.09-.558-.248l-2.25-2.5c-.277-.308-.252-.782,.056-1.06,.309-.276,.781-.252,1.06,.056l1.648,1.832,3.701-4.789c.253-.328,.725-.388,1.052-.135,.328,.253,.388,.724,.135,1.052Z",fill:a})})]})}}},566825:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({CustomInboundIcon:()=>b,default:()=>c});var d=a.i(674420);let b=({size:a=64,backgroundColor:b="#A50A3E",Icon:c,text:e,iconScale:f=.5,iconColor:g="white",className:h=""})=>{let i=a*f,j=.3*a,k=.4*a;return(0,d.jsx)("div",{className:`inline-flex items-center justify-center ${h}`,style:{width:a,height:a,backgroundColor:b,borderRadius:j,background:`linear-gradient(180deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 100%), ${b}`,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:c?(0,d.jsx)(c,{width:i,height:i,style:{color:g,filter:"drop-shadow(0px 1px 2px rgba(0,0,0,0.1))"}}):e?(0,d.jsx)("span",{style:{fontSize:k,fontWeight:"bold",color:g,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:e.slice(0,2)}):null})},c=b}},790024:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({domainV2Keys:()=>b,useAddEmailAddressV2Mutation:()=>k,useDeleteDomainV2Mutation:()=>j,useDeleteEmailAddressV2Mutation:()=>l,useDomainDetailsV2Query:()=>h,useDomainVerificationCheckV2:()=>i,useDomainsListV2Query:()=>c,useUpdateDomainCatchAllV2Mutation:()=>n,useUpdateEmailEndpointV2Mutation:()=>m});var d=a.i(18337),e=a.i(513929),f=a.i(378727),g=a.i(754563);let b={all:["v2","domains"],list:a=>[...b.all,"list",a],detail:a=>[...b.all,a],verification:a=>[...b.all,a,"verification"],emailAddresses:a=>[...b.all,a,"email-addresses"]},c=a=>(0,d.useQuery)({queryKey:b.list(a),queryFn:async()=>{let b=new URLSearchParams;a?.limit&&b.set("limit",a.limit.toString()),a?.offset&&b.set("offset",a.offset.toString()),a?.status&&b.set("status",a.status),a?.canReceive&&b.set("canReceive",a.canReceive),a?.check&&b.set("check",a.check);let c=await fetch(`/api/v2/domains?${b}`);if(!c.ok)throw Error((await c.json()).error||`HTTP error! status: ${c.status}`);return c.json()},staleTime:12e4,gcTime:3e5}),h=a=>(0,d.useQuery)({queryKey:b.detail(a),queryFn:async()=>{let b=await fetch(`/api/v2/domains/${a}`);if(!b.ok)throw Error((await b.json()).error||`HTTP error! status: ${b.status}`);return b.json()},enabled:!!a,staleTime:12e4,gcTime:6e5}),i=a=>{let c=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async()=>{let a=await fetch("/api/v2/domains?status=pending&check=true");if(!a.ok)throw Error((await a.json()).error||"Failed to check verification");return a.json()},onSuccess:()=>{c.invalidateQueries({queryKey:b.detail(a)})}})},j=()=>{let a=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async a=>{let b=await fetch(`/api/v2/domains/${a}`,{method:"DELETE"});if(!b.ok)throw Error((await b.json()).error||"Failed to delete domain");return b.json()},onMutate:async c=>{console.log("ðŸ—‘ï¸ Starting optimistic domain deletion for:",c),await a.cancelQueries({queryKey:b.all});let d=[],e=a.getQueriesData({queryKey:b.all});for(let[b,f]of(console.log("ðŸ“Š Found",e.length,"cached domain queries to update"),e))if(f&&Array.isArray(f.data)&&"object"==typeof f.meta&&null!==f.meta){console.log("âœ… Updating query with",f.data.length,"domains, totalCount:",f.meta.totalCount),d.push({queryKey:b,data:f});let e={...f,data:f.data.filter(a=>a.id!==c),meta:{...f.meta,totalCount:Math.max((f.meta?.totalCount||0)-1,0)}};a.setQueryData(b,e),console.log("âœ… Updated query - new count:",e.data.length,"totalCount:",e.meta.totalCount)}else console.warn("âš ï¸ Skipping invalid query data:",{hasData:!!f,isDataArray:!!f&&Array.isArray(f.data),hasMeta:!!f&&"object"==typeof f.meta&&null!==f.meta});return console.log("âœ… Optimistic update complete - updated",d.length,"queries"),{previousQueriesData:d}},onError:(b,c,d)=>{if(console.error("âŒ Domain deletion failed, rolling back optimistic updates:",b.message),d?.previousQueriesData){for(let{queryKey:b,data:c}of(console.log("ðŸ”„ Rolling back",d.previousQueriesData.length,"queries"),d.previousQueriesData))a.setQueryData(b,c);console.log("âœ… Rollback complete")}},onSuccess:(c,d)=>{a.removeQueries({queryKey:b.detail(d)}),a.invalidateQueries({queryKey:b.all}),a.invalidateQueries({queryKey:["domains"]}),a.invalidateQueries({queryKey:["domainStats"]})}})},k=()=>{let a=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async a=>{let b=await fetch("/api/v2/email-addresses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error((await b.json()).error||"Failed to add email address");return b.json()},onSuccess:c=>{(0,g.track)("Email Address Added",{address:c.address,domainId:c.domainId,emailAddressId:c.id}),a.invalidateQueries({queryKey:b.detail(c.domainId)}),a.invalidateQueries({queryKey:b.emailAddresses(c.domainId)})}})},l=()=>{let a=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async({emailAddressId:a})=>{let b=await fetch(`/api/v2/email-addresses/${a}`,{method:"DELETE"});if(!b.ok)throw Error((await b.json()).error||"Failed to delete email address");return b.json()},onSuccess:(c,{domainId:d})=>{a.invalidateQueries({queryKey:b.detail(d)}),a.invalidateQueries({queryKey:b.emailAddresses(d)})}})},m=()=>{let a=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async({emailAddressId:a,domainId:b,...c})=>{console.log("ðŸš€ Sending update request:",{url:`/api/v2/email-addresses/${a}`,body:c});let d=await fetch(`/api/v2/email-addresses/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error((await d.json()).error||"Failed to update endpoint");let e=await d.json();return console.log("ðŸ“¥ Update response:",e),e},onSuccess:(c,{domainId:d})=>{a.invalidateQueries({queryKey:b.detail(d)}),a.invalidateQueries({queryKey:b.emailAddresses(d)})}})},n=()=>{let a=(0,f.useQueryClient)();return(0,e.useMutation)({mutationFn:async({domainId:a,...b})=>{let c=await fetch(`/api/v2/domains/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error((await c.json()).error||"Failed to update catch-all settings");return c.json()},onSuccess:(c,{domainId:d,isCatchAllEnabled:e,catchAllEndpointId:f})=>{(0,g.track)(e?"Catch All Enabled":"Catch All Disabled",{domainId:d,endpointId:f||null}),a.invalidateQueries({queryKey:b.detail(d)})}})}}}};

//# sourceMappingURL=_4e86ff9a._.js.map