module.exports={2151:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"m8.75,0h-4c-1.517,0-2.75,1.233-2.75,2.75v4.5c0,.485.137.935.358,1.331l4.081-4.081h-1.439c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h3.25c.414,0,.75.336.75.75v3.25c0,.414-.336.75-.75.75s-.75-.336-.75-.75v-1.439l-4.081,4.081c.396.221.846.358,1.331.358h4c1.517,0,2.75-1.233,2.75-2.75V2.75c0-1.517-1.233-2.75-2.75-2.75Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m2.358,8.581L.22,10.72c-.293.293-.293.768,0,1.061.146.146.338.22.53.22s.384-.073.53-.22l2.139-2.139c-.446-.249-.811-.615-1.061-1.061Z",fill:b,strokeWidth:"0"})]})]})}}},578227:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M16.249,7.763s0,0,0,0l-1.248-1.248v-1.765c0-.965-.785-1.75-1.75-1.75h-1.765l-1.249-1.249c-.681-.68-1.791-.681-2.474,0l-1.248,1.248h-1.765c-.965,0-1.75,.785-1.75,1.75v1.765l-1.249,1.249c-.681,.682-.681,1.792,0,2.474l1.248,1.248v1.765c0,.965,.785,1.75,1.75,1.75h1.765l1.249,1.249c.341,.34,.789,.511,1.237,.511s.896-.17,1.237-.511l1.248-1.248h1.765c.965,0,1.75-.785,1.75-1.75v-1.765l1.249-1.249c.681-.682,.681-1.792,0-2.474Zm-3.784-.8l-3.923,5c-.136,.174-.343,.279-.564,.287-.009,0-.017,0-.026,0-.212,0-.414-.089-.557-.247l-1.827-2.023c-.277-.308-.253-.782,.054-1.06,.307-.277,.782-.253,1.06,.054l1.23,1.362,3.374-4.299c.256-.326,.727-.383,1.053-.127,.326,.255,.383,.727,.127,1.053Z",fill:a})})]})}}},430016:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=({variant:a="black",className:b,...c})=>(0,d.jsx)("svg",{width:"1500",height:"489",viewBox:"0 0 1500 489",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:b,...c,children:(0,d.jsx)("path",{d:"M25.4092 393.747V97.3065H146.103C211.32 97.3065 254.939 135.844 254.939 195.979C254.939 234.093 235.035 264.584 204.121 279.406L262.562 393.747H192.263L142.292 294.228H88.9323V393.747H25.4092ZM141.021 150.242H88.9323V241.292H141.021C171.089 241.292 190.146 223.506 190.146 195.979C190.146 168.029 171.089 150.242 141.021 150.242ZM388.86 396.288C316.444 396.288 272.825 352.669 272.825 285.335C272.825 217.577 317.291 173.534 384.625 173.534C449.842 173.534 493.885 214.189 494.732 278.135C494.732 284.488 494.308 291.687 493.038 298.463H335.077V301.427C336.348 332.342 356.252 350.975 386.319 350.975C410.458 350.975 427.398 340.388 432.479 320.061H491.344C484.568 362.409 446.878 396.288 388.86 396.288ZM336.348 259.502H434.597C430.362 232.822 412.152 218 385.049 218C359.216 218 339.736 233.669 336.348 259.502ZM515.546 321.331H572.293C574.41 340.388 590.926 353.516 620.147 353.516C645.133 353.516 660.378 345.47 660.378 330.224C660.378 312.438 645.556 311.167 610.407 306.509C559.588 300.58 520.204 289.146 520.204 244.256C520.204 201.061 557.894 172.687 613.795 173.111C672.236 173.111 712.467 198.943 715.431 243.409H658.261C656.567 226.046 640.051 215.459 615.912 215.459C592.62 215.459 577.375 223.929 577.375 237.904C577.375 254.42 596.008 256.114 627.346 259.925C677.318 265.007 718.819 276.441 718.819 325.566C718.819 368.762 678.165 396.288 619.723 396.288C559.165 396.288 518.087 367.915 515.546 321.331ZM857.839 396.288C785.423 396.288 741.803 352.669 741.803 285.335C741.803 217.577 786.27 173.534 853.604 173.534C918.821 173.534 962.864 214.189 963.711 278.135C963.711 284.488 963.287 291.687 962.017 298.463H804.056V301.427C805.326 332.342 825.23 350.975 855.298 350.975C879.437 350.975 896.376 340.388 901.458 320.061H960.323C953.547 362.409 915.857 396.288 857.839 396.288ZM805.326 259.502H903.575C899.341 232.822 881.131 218 854.027 218C828.195 218 808.714 233.669 805.326 259.502ZM1121.27 173.534C1168.28 173.534 1208.51 198.52 1208.51 273.054V393.747H1148.8V278.982C1148.8 242.139 1134.82 222.659 1104.75 222.659C1073.84 222.659 1056.05 244.68 1056.05 282.37V393.747H996.342V176.075H1048.43L1053.94 203.178C1067.91 186.239 1087.82 173.534 1121.27 173.534ZM1403.27 203.178V97.3065H1462.98V393.747H1410.89L1404.96 363.68C1390.56 382.313 1369.39 396.288 1338.05 396.288C1279.61 396.288 1236.84 353.516 1236.84 284.488C1236.84 217.153 1279.61 173.534 1337.63 173.534C1367.69 173.534 1389.29 185.392 1403.27 203.178ZM1351.18 347.587C1383.79 347.587 1404.11 322.178 1404.11 285.335C1404.11 248.068 1383.79 222.235 1351.18 222.235C1318.57 222.235 1297.82 247.644 1297.82 284.911C1297.82 322.178 1318.57 347.587 1351.18 347.587Z",fill:a})})}},191655:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f={default:function(){return j},getImageProps:function(){return h}};for(var g in f)Object.defineProperty(e,g,{enumerable:!0,get:f[g]});let b=a.r(995658),c=a.r(332441),d=a.r(699705),i=b._(a.r(227073));function h(a){let{props:b}=(0,c.getImgProps)(a,{defaultLoader:i.default,imgConf:JSON.parse('{"deviceSizes":[640,750,828,1080,1200,1920,2048,3840],"imageSizes":[16,32,48,64,96,128,256,384],"path":"/_next/image","loader":"default","dangerouslyAllowSVG":false,"unoptimized":false}')});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let j=d.Image}},365171:function(a){var{g:b,__dirname:c,m:d,e:e}=a;d.exports=a.r(191655)},494334:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>z});var d=a.i(674420),e=a.i(722851),f=a.i(521023),g=a.i(862772),h=a.i(323772),i=a.i(754563),j=a.i(378903),k=a.i(668018),l=a.i(222239),m=a.i(284103),n=a.i(24491),o=a.i(180214),p=a.i(195743),q=a.i(164929),r=a.i(140859),s=a.i(816692),t=a.i(578227),u=a.i(520910),v=a.i(2151),w=a.i(430016),x=a.i(918656),y=a.i(365171);let b=[{id:"add-domain",name:"Add Domain",description:"Add a domain you own to send emails."},{id:"configure-dns",name:"Configure DNS",description:"Add the following DNS records to your domain provider."},{id:"verified",name:"Verified",description:"Start sending emails to your domain."}],c={hidden:{opacity:0,x:20},visible:{opacity:1,x:0},exit:{opacity:0,x:-20}},A=a=>({route53:"https://resend.com/docs/knowledge-base/route53","amazon route 53":"https://resend.com/docs/knowledge-base/route53",aws:"https://resend.com/docs/knowledge-base/route53",cloudflare:"https://resend.com/docs/knowledge-base/cloudflare",namecheap:"https://resend.com/docs/knowledge-base/namecheap",vercel:"https://resend.com/docs/knowledge-base/vercel",squarespace:"https://resend.com/docs/knowledge-base/squarespace",hostzinger:"https://resend.com/docs/knowledge-base/hostzinger",ionos:"https://resend.com/docs/knowledge-base/ionos",gandi:"https://resend.com/docs/knowledge-base/gandi",porkbun:"https://resend.com/docs/knowledge-base/porkbun"})[a.toLowerCase().trim()]||null;function z({preloadedDomain:a="",preloadedDomainId:z="",preloadedDnsRecords:B=[],preloadedStep:C=0,preloadedProvider:D="",onRefresh:E,overrideRefreshFunction:F,onSuccess:G}){let[H,I]=(0,e.useState)(C),[J,K]=(0,e.useState)(a),[L,M]=(0,e.useState)(""),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(null),[T,U]=(0,e.useState)(B),[V,W]=(0,e.useState)(z),[X,Y]=(0,e.useState)(""),[Z,$]=(0,e.useState)(!1),[_,aa]=(0,e.useState)(!1),[ab,ac]=(0,e.useState)(!1),[ad,ae]=(0,e.useState)([]),[af,ag]=(0,e.useState)(new Set),[ah,ai]=(0,e.useState)({}),[aj,ak]=(0,e.useState)(!1),[al,am]=(0,e.useState)(!1),an=(0,x.useRouter)(),[ao,ap]=(0,e.useState)(!1),aq=(0,e.useMemo)(()=>B,[JSON.stringify(B)]);(0,e.useEffect)(()=>{I(C),K(a),U(aq),W(z)},[C,a,aq,z]),(0,e.useEffect)(()=>{if(z&&a&&1===C){let b=setTimeout(()=>{console.log("ðŸ”„ Auto-refreshing domain verification status for:",a),at(),am(!0)},500);return()=>clearTimeout(b)}},[z,a,C]),(0,e.useEffect)(()=>{V&&0===T.length&&1===H&&(async()=>{try{let a=await fetch(`/api/v2/domains/${V}/dns-records`);if(a.ok){let b=(await a.json()).records.map(a=>({type:a.recordType,name:a.name,value:a.value,isVerified:a.isVerified||!1}));U(b)}}catch(a){console.error("Error fetching DNS records:",a)}})()},[V,T.length,H]),(0,e.useEffect)(()=>{if(!al||!V||!J||"verified"===R||"failed"===R)return;console.log("ðŸ”„ Starting periodic verification checks every 5 seconds for:",J);let a=setInterval(()=>{console.log("â° Periodic verification check for:",J),ar()},5e3);return()=>{console.log("ðŸ›‘ Stopping periodic verification checks for:",J),clearInterval(a)}},[al,V,J,R]);let ar=async()=>{if(V&&J&&!P){if(F){try{await F()}catch(a){console.error("Error in periodic refresh:",a)}return}try{let a=await fetch("/api/v2/domains?status=pending&check=true");if(!a.ok)return void console.error("Failed to check domain status:",a.status);let b=await a.json(),c=b.data?.find(a=>a.id===V);if(!c)return void console.error("Domain not found in response");S(c.status),c.verificationCheck?.dnsRecords&&U(c.verificationCheck.dnsRecords.map(a=>({type:a.type,name:a.name,value:a.value,isVerified:a.isVerified}))),"verified"===c.status&&(console.log("âœ… Domain verified! Redirecting to domain details page..."),h.toast.success("Domain verified successfully! Redirecting..."),am(!1),setTimeout(()=>{an.push(`/emails/${V}`)},1500))}catch(a){console.error("Error in periodic verification check:",a)}}},as=async a=>{if(a.preventDefault(),!J.trim())return void M("Please enter a valid domain name.");if(!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(J))return void M("Please enter a valid domain format (e.g., example.com).");O(!0),M("");try{let a=await fetch("/api/v2/domains",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:J})}),b=await a.json();if(!a.ok)return void(409===a.status?M(b.error||"This domain already exists."):403===a.status?M(b.error||"Domain limit reached. Please upgrade your plan."):400===a.status&&b.error?.includes("conflicting DNS records")?M("This domain cannot be used. It may have conflicting DNS records (MX or CNAME). Please remove them before adding this domain."):M(b.error||"Failed to add domain"));console.log("Domain added successfully:",b),(0,i.track)("Domain Added",{domain:J,domainId:b.id}),G&&G(b.id),h.toast.success("Domain added successfully! Redirecting..."),setTimeout(()=>{an.push(`/emails/${b.id}`)},1e3)}catch(a){console.error("Error adding domain:",a),M("An unexpected error occurred. Please try again.")}finally{O(!1)}},at=async()=>{if(F){Q(!0);try{await F()}catch(a){console.error("Error in override refresh function:",a),h.toast.error("Failed to refresh status")}finally{Q(!1)}return}if(E)return void E();if(!V)return void h.toast.error("No domain ID available for verification");Q(!0),M(""),console.log("ðŸ”„ Manual refresh for domainId:",V);try{let a=await fetch("/api/v2/domains?status=pending&check=true");if(!a.ok){let b=await a.json();M(b.error||"Failed to check verification status"),h.toast.error("Failed to refresh status"),am(!1);return}let b=await a.json(),c=b.data?.find(a=>a.id===V);if(!c){M("Domain not found"),h.toast.error("Domain not found"),am(!1);return}console.log("ðŸ” Manual refresh result:",c),S(c.status),"verified"===c.status?(console.log("âœ… Domain verified via manual refresh! Redirecting..."),h.toast.success("Domain verified successfully! Redirecting..."),am(!1),setTimeout(()=>{an.push(`/emails/${V}`)},1500)):"failed"===c.status?(h.toast.error("Domain verification failed"),am(!1)):(h.toast.info("Domain verification still pending"),al||am(!0)),c.verificationCheck?.dnsRecords&&U(c.verificationCheck.dnsRecords.map(a=>({type:a.type,name:a.name,value:a.value,isVerified:a.isVerified})))}catch(a){console.error("Error checking verification:",a),M("An unexpected error occurred while checking verification status."),h.toast.error("Failed to refresh status"),am(!1)}finally{Q(!1)}},au=async a=>{try{await navigator.clipboard.writeText(a),h.toast.success("Copied to clipboard")}catch(a){console.error("Failed to copy text: ",a),h.toast.error("Failed to copy to clipboard")}},av=async()=>{if(!X.trim())return void h.toast.error("Please enter your Resend API key");if(!X.startsWith("re_"))return void h.toast.error("Invalid Resend API key format. It should start with 're_'");$(!0),M("");try{let a=await fetch("/api/resend/domains",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:X})}),b=await a.json();if(!a.ok||!b.success)throw Error(b.error||"Failed to fetch domains from Resend");b.domains&&b.domains.length>0?(h.toast.success(`Found ${b.domains.length} domain(s) in your Resend account`),ae(b.domains),ag(new Set),aa(!0),console.log("Resend domains:",b.domains)):h.toast.info("No domains found in your Resend account"),Y("")}catch(a){console.error("Error importing from Resend:",a),h.toast.error(a instanceof Error?a.message:"Failed to import domains from Resend. Please check your API key.")}finally{$(!1)}},aw=a=>{let b=new Set(af);b.has(a)?b.delete(a):b.add(a),ag(b)},ax=async()=>{for(let a of(ak(!0),ad.filter(a=>af.has(a.name)))){let b=a.name;ai(a=>({...a,[b]:{status:"processing",message:"Adding domain..."}}));try{let a=await fetch("/api/v2/domains",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:b})}),c=await a.json();if(a.ok)ai(a=>({...a,[b]:{status:"success",message:`Successfully added. Status: ${c.status}`,domainId:c.id}}));else{let d=c.error||"Failed to add domain";if(409===a.status)ai(a=>({...a,[b]:{status:"exists",message:d}}));else if(403===a.status){ai(a=>({...a,[b]:{status:"failed",message:"Domain limit reached. Please upgrade your plan to add more domains."}}));break}else 400===a.status&&d.includes("conflicting DNS records")?ai(a=>({...a,[b]:{status:"failed",message:"Domain cannot be used. May have conflicting DNS records or MX records already configured."}})):ai(a=>({...a,[b]:{status:"failed",message:d}}))}}catch(a){console.error(`Error processing domain ${b}:`,a),ai(a=>({...a,[b]:{status:"failed",message:"Network error occurred while adding domain"}}))}await new Promise(a=>setTimeout(a,500))}ak(!1);let a=Object.values(ah),b=a.filter(a=>"success"===a.status).length,c=a.filter(a=>"exists"===a.status).length,d=a.filter(a=>"failed"===a.status).length;h.toast.success(`Import completed: ${b} added, ${c} already existed, ${d} failed`)},ay=(a,b)=>{let c=b.split(".").slice(-2).join(".");return a===c?"@":a.endsWith(`.${c}`)?a.replace(`.${c}`,""):a},az=a=>a<H,aA=a=>a===H,aB=a=>a>H;return(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsxs)("div",{className:"w-full max-w-4xl px-2  mx-auto",children:[(0,d.jsx)("header",{className:"mb-8 flex items-center space-x-4"}),(0,d.jsx)("div",{className:"w-full mb-8",children:(0,d.jsx)("nav",{className:"flex items-center justify-center",children:b.map((a,c)=>{let e=az(c),g=aA(c);aB(c);let h="";return 0===c?h="/domain-icon.png":1===c?h=e||g?"/dns-icon.png":"/dns-icon-greyed.png":2===c&&(h=e||g?"/verified-icon.png":"/verified-icon-greyed.png"),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(f.motion.div,{className:"flex h-10 w-10 items-center justify-center",initial:{scale:g?1.1:1},animate:{scale:g?1.1:1},transition:{duration:.2},children:(0,d.jsx)(y.default,{src:h,alt:a.name,width:40,height:40,className:"object-contain"})}),c<b.length-1&&(0,d.jsx)("div",{className:"mx-8",children:(0,d.jsx)(n.default,{className:(0,m.cn)("h-5 w-5 transition-colors duration-300",{"text-brandPurple":e,"text-gray-400":!e})})})]},a.id)})})}),(0,d.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,d.jsx)(g.AnimatePresence,{mode:"wait",children:(0,d.jsxs)(f.motion.div,{variants:c,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,type:"tween"},className:"pt-1",children:[H>0&&(0,d.jsxs)("div",{className:"mb-10 rounded-lg bg-accent/20 p-5 border border-accent",children:[(0,d.jsxs)("div",{className:"flex items-center mb-1",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:b[0].name}),(0,d.jsx)(p.default,{width:"18",height:"18",className:"ml-2 text-green-600"})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:b[0].description}),(0,d.jsx)("div",{className:"flex items-center rounded-md border border-border bg-card px-3 py-2 shadow-sm",children:(0,d.jsx)("span",{className:"font-mono text-sm text-foreground",children:J})})]}),_&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Select Domains to Import"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose which domains from your Resend account to import into Inbound"})]}),(0,d.jsx)(j.Button,{variant:"secondary",onClick:()=>{aa(!1),ae([]),ag(new Set)},children:"Cancel"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.Button,{variant:"secondary",size:"sm",onClick:()=>{ag(new Set(ad.map(a=>a.name)))},children:"Select All"}),(0,d.jsx)(j.Button,{variant:"secondary",size:"sm",onClick:()=>{ag(new Set)},children:"Select None"})]}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[af.size," of ",ad.length," domains selected"]})]}),(0,d.jsxs)("div",{className:"border border-border rounded-lg overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-muted/30 border-b border-border",children:(0,d.jsxs)("div",{className:"flex items-center text-sm font-medium text-muted-foreground px-4 py-3",children:[(0,d.jsx)("div",{className:"w-12"}),(0,d.jsx)("div",{className:"flex-1",children:"Domain"}),(0,d.jsx)("div",{className:"w-24",children:"Status"}),(0,d.jsx)("div",{className:"w-32",children:"Created"})]})}),(0,d.jsx)("div",{className:"bg-card",children:ad.map((a,b)=>(0,d.jsxs)("div",{className:(0,m.cn)("flex items-center px-4 py-3 hover:bg-muted/50 cursor-pointer",{"border-b border-border/50":b<ad.length-1,"bg-accent/20":af.has(a.name)}),onClick:()=>aw(a.name),children:[(0,d.jsx)("div",{className:"w-12",children:(0,d.jsx)(l.Checkbox,{checked:af.has(a.name),onCheckedChange:()=>aw(a.name)})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"font-mono text-sm font-medium",children:a.name}),a.region&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Region: ",a.region]})]}),(0,d.jsx)("div",{className:"w-24",children:(0,d.jsx)("span",{className:(0,m.cn)("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"verified"===a.status,"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"pending"===a.status,"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"failed"===a.status,"bg-muted text-muted-foreground":!a.status}),children:a.status||"unknown"})}),(0,d.jsx)("div",{className:"w-32 text-sm text-muted-foreground",children:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"})]},a.id))})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsxs)(j.Button,{onClick:()=>{if(0===af.size)return void h.toast.error("Please select at least one domain to import");let a={};af.forEach(b=>{a[b]={status:"pending"}}),ai(a),aa(!1),ac(!0),ax()},variant:"primary",disabled:0===af.size,className:"min-w-32",children:["Import ",af.size," Domain",1!==af.size?"s":""]})})]}),ab&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Import Domains from Resend"}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Processing ",af.size," selected domain(s) from your Resend account"]})]}),(0,d.jsx)(j.Button,{variant:"secondary",onClick:()=>{ac(!1),aa(!0)},disabled:aj,children:"Cancel"})]}),(0,d.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ad.filter(a=>af.has(a.name)).map((a,b)=>{let c=ah[a.name],e=c?.status||"pending";return(0,d.jsxs)("div",{className:(0,m.cn)("flex items-center justify-between p-4 rounded-lg border",{"bg-muted/50 border-border":"pending"===e,"bg-blue-500/10 border-blue-500/20 dark:bg-blue-500/5":"processing"===e,"bg-green-500/10 border-green-500/20 dark:bg-green-500/5":"success"===e,"bg-yellow-500/10 border-yellow-500/20 dark:bg-yellow-500/5":"exists"===e,"bg-destructive/10 border-destructive/20 dark:bg-destructive/5":"failed"===e}),children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-background border",children:["pending"===e&&(0,d.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:b+1}),"processing"===e&&(0,d.jsx)(r.default,{width:"16",height:"16",className:"animate-spin text-blue-600"}),"success"===e&&(0,d.jsx)(p.default,{width:"16",height:"16",className:"text-green-600"}),"exists"===e&&(0,d.jsx)(p.default,{width:"16",height:"16",className:"text-yellow-600"}),"failed"===e&&(0,d.jsx)(q.default,{width:"16",height:"16",className:"text-destructive"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-mono text-sm font-medium",children:a.name}),a.status&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Resend Status: ",a.status]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:(0,m.cn)("text-sm font-medium",{"text-muted-foreground":"pending"===e,"text-blue-600":"processing"===e,"text-green-600":"success"===e,"text-yellow-600":"exists"===e,"text-destructive":"failed"===e}),children:["pending"===e&&"Waiting...","processing"===e&&"Processing...","success"===e&&"Added Successfully","exists"===e&&"Already Exists","failed"===e&&"Failed"]}),c?.message&&(0,d.jsx)("div",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:c.message})]})]},a.name)})}),(0,d.jsxs)("div",{className:"flex gap-3",children:[!aj&&0===Object.keys(ah).length&&(0,d.jsx)(j.Button,{onClick:ax,variant:"primary",className:"flex-1",children:"Start Import"}),aj&&(0,d.jsxs)(j.Button,{variant:"primary",className:"flex-1",disabled:!0,children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"mr-2 animate-spin"}),"Processing Domains..."]}),!aj&&Object.keys(ah).length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.Button,{onClick:()=>an.push("/emails"),variant:"primary",className:"flex-1",children:"View All Domains"}),(0,d.jsx)(j.Button,{onClick:()=>{ac(!1),aa(!1),ae([]),ag(new Set),ai({})},variant:"secondary",children:"Import More"})]})]}),Object.keys(ah).length>0&&(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-4 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-green-600",children:Object.values(ah).filter(a=>"success"===a.status).length}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Added"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-yellow-600",children:Object.values(ah).filter(a=>"exists"===a.status).length}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Existing"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-destructive",children:Object.values(ah).filter(a=>"failed"===a.status).length}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-semibold text-muted-foreground",children:Object.values(ah).filter(a=>"pending"===a.status).length}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})]}),!_&&!ab&&0===H&&(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)("h2",{className:"mb-1 text-lg font-semibold text-foreground",children:b[0].name}),(0,d.jsx)("p",{className:"mb-5 text-sm text-muted-foreground",children:b[0].description}),(0,d.jsxs)("form",{onSubmit:as,children:[(0,d.jsx)("label",{htmlFor:"domainName",className:"mb-1.5 block text-sm font-medium text-foreground",children:"Name"}),(0,d.jsx)(k.Input,{id:"domainName",type:"text",value:J,onChange:a=>{K(a.target.value),L&&M("")},placeholder:"example.com",className:"mb-2 w-full font-mono text-sm","aria-label":"Domain Name",disabled:N||!!a}),L&&(0,d.jsx)("p",{className:"mb-4 text-sm text-destructive",children:L}),(0,d.jsx)(j.Button,{type:"submit",variant:"primary",className:"mt-4 w-full md:w-auto",disabled:N,children:N?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"mr-2 animate-spin"}),"Adding Domain..."]}):(0,d.jsxs)(d.Fragment,{children:["Add Domain ",(0,d.jsx)(n.default,{width:"16",height:"16",className:"ml-1.5"})]})})]}),(0,d.jsxs)("div",{className:"mt-8 rounded-lg border border-border bg-card p-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Import from"}),(0,d.jsx)(w.default,{variant:"black",className:"h-12 w-16 -ml-1 dark:invert"})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Already have domains in Resend? Paste your API key to import them for bulk processing."}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(k.Input,{type:"password",value:X,onChange:a=>Y(a.target.value),placeholder:"Paste your Resend API key (re_...)",className:"bg-transparent border-input",disabled:Z}),(0,d.jsx)(j.Button,{variant:"secondary",className:"w-full",onClick:av,disabled:Z||!X.trim(),children:Z?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"mr-2 animate-spin"}),"Importing..."]}):"Import Domains"})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-3",children:"Your API key is not stored and only used to fetch your domains."})]})]}),!_&&!ab&&1===H&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:b[1].name}),D&&(0,d.jsx)("div",{className:"flex items-center gap-2",children:A(D)?(0,d.jsxs)(j.Button,{variant:"secondary",size:"sm",onClick:()=>window.open(A(D),"_blank"),className:"flex items-center gap-2 text-sm border",children:[(0,d.jsx)(u.default,{width:"16",height:"16"}),(0,d.jsxs)("span",{children:[D," Setup Guide"]}),(0,d.jsx)(v.default,{width:"12",height:"12"})]}):(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,d.jsx)(u.default,{width:"16",height:"16"}),(0,d.jsxs)("span",{children:["Provider: ",(0,d.jsx)("span",{className:"font-medium",children:D})]})]})})]}),(0,d.jsx)("p",{className:"mb-6 text-sm text-muted-foreground",children:b[1].description}),R&&(0,d.jsxs)("div",{className:(0,m.cn)("mb-6 rounded-lg p-4 border",{"bg-yellow-500/10 border-yellow-500/20 dark:bg-yellow-500/5":"pending"===R,"bg-green-500/10 border-green-500/20 dark:bg-green-500/5":"verified"===R,"bg-destructive/10 border-destructive/20 dark:bg-destructive/5":"failed"===R}),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center",children:["pending"===R&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.default,{width:"16",height:"16",className:"text-yellow-600 mr-2"}),(0,d.jsx)("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400",children:"Verification Pending"}),P&&(0,d.jsx)(r.default,{width:"16",height:"16",className:"ml-2 animate-spin text-yellow-600"})]}),"verified"===R&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.default,{width:"16",height:"16",className:"text-green-600 mr-2"}),(0,d.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Domain Verified"})]}),"failed"===R&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.default,{width:"16",height:"16",className:"text-destructive mr-2"}),(0,d.jsx)("span",{className:"text-sm font-medium text-destructive",children:"Verification Failed"})]})]}),al&&"pending"===R&&(0,d.jsxs)("div",{className:"flex items-center text-xs text-yellow-600 dark:text-yellow-400",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-pulse"}),(0,d.jsx)("span",{children:"Auto-checking every 5s"})]})]}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["pending"===R&&!al&&"DNS records are being verified. This may take a few hours.","pending"===R&&al&&"We're automatically checking your domain verification status. You'll be redirected once it's verified.","verified"===R&&"Your domain has been successfully verified and is ready to use.","failed"===R&&"Please check your DNS records and try again."]})]}),T.length>0&&(0,d.jsx)("div",{className:"mb-4",children:(()=>{let a=T.filter(a=>a.isVerified).length,b=T.length,c=a===b;return(0,d.jsx)("div",{className:(0,m.cn)("rounded-lg p-4 border",c?"bg-green-500/10 border-green-500/20 dark:bg-green-500/5":a>0?"bg-yellow-500/10 border-yellow-500/20 dark:bg-yellow-500/5":"bg-muted/50 border-border"),children:(0,d.jsx)("div",{className:"flex items-center gap-2",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.default,{width:"20",height:"20",className:"text-green-600"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-green-700 dark:text-green-400",children:"All DNS records verified!"}),(0,d.jsx)("p",{className:"text-sm text-green-600 dark:text-green-500",children:"verified"===R?"Domain is fully verified and ready to receive emails.":"DNS records are configured correctly. Waiting for Email status to be verified."})]})]}):a>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.default,{width:"20",height:"20",className:"text-yellow-600"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"font-medium text-yellow-700 dark:text-yellow-400",children:["Partial verification (",a,"/",b," records verified)"]}),(0,d.jsxs)("p",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:[T.filter(a=>!a.isVerified).map(a=>a.type).join(", ")," record",T.filter(a=>!a.isVerified).length>1?"s":""," still need",T.filter(a=>!a.isVerified).length>1?"":"s"," to be configured."]})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.default,{width:"20",height:"20",className:"text-muted-foreground"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-foreground",children:"DNS records not yet verified"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please add the DNS records below to your domain provider. Verification may take a few minutes after adding the records."})]})]})})})})()}),(0,d.jsxs)("div",{className:"overflow-hidden border border-border rounded-lg",children:[ao&&(0,d.jsx)("div",{className:"bg-yellow-500/10 border-b border-yellow-500/20 p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(q.default,{width:"16",height:"16",className:"text-yellow-600 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 text-sm",children:[(0,d.jsx)("p",{className:"font-medium text-yellow-700 dark:text-yellow-400 mb-1",children:"Important DNS Configuration Note"}),(0,d.jsxs)("p",{className:"text-yellow-600 dark:text-yellow-500 mb-2",children:["When adding MX records, use only the mail server hostname without your domain appended. For example, use ",(0,d.jsx)("span",{className:"font-mono",children:"inbound-smtp.us-east-2.amazonaws.com"}),"NOT ",(0,d.jsxs)("span",{className:"font-mono",children:["inbound-smtp.us-east-2.amazonaws.com.",J]})]}),(0,d.jsx)("p",{className:"text-yellow-600 dark:text-yellow-500 text-xs",children:"Note: TXT records may take longer to propagate than MX records. If TXT verification fails, please wait a few minutes and try refreshing again."})]}),(0,d.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>ap(!1),className:"h-6 w-6 p-0 hover:bg-yellow-500/20 rounded text-yellow-600 hover:text-yellow-700 dark:hover:text-yellow-400","aria-label":"Dismiss DNS configuration note",children:(0,d.jsx)("span",{className:"text-base font-medium leading-none",children:"Ã—"})})]})}),(0,d.jsx)("div",{className:"bg-muted/30 border-b border-border",children:(0,d.jsxs)("div",{className:"flex text-sm font-medium text-muted-foreground px-4 py-3",children:[(0,d.jsx)("span",{className:"w-[25%]",children:"Record name"}),(0,d.jsx)("span",{className:"w-[15%]",children:"Type"}),(0,d.jsx)("span",{className:"w-[10%]",children:"TTL"}),(0,d.jsx)("span",{className:"w-[30%]",children:"Value"}),(0,d.jsx)("span",{className:"w-[15%] text-right",children:"Priority"})]})}),(0,d.jsxs)("div",{className:"bg-card",children:[T.map((a,b)=>(0,d.jsxs)("div",{className:(0,m.cn)("flex transition-colors px-4 py-3",{"bg-green-500/10 hover:bg-green-500/20 dark:bg-green-500/5 dark:hover:bg-green-500/10":a.isVerified,"bg-card hover:bg-muted/50":!a.isVerified,"border-b border-border/50":b<T.length-1}),children:[(0,d.jsx)("div",{className:"w-[25%] pr-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-mono text-sm truncate",children:ay(a.name,J)}),(0,d.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>au(ay(a.name,J)),className:"h-8 w-8 p-0 hover:bg-muted border border-border rounded flex-shrink-0 ml-2",children:(0,d.jsx)(s.default,{width:"16",height:"16",className:"text-muted-foreground"})})]})}),(0,d.jsx)("div",{className:"w-[15%] pr-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm",children:a.type}),a.isVerified&&(0,d.jsx)(p.default,{width:"16",height:"16",className:"text-green-600"})]}),(0,d.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>au(a.type),className:"h-8 w-8 p-0 hover:bg-muted border border-border rounded flex-shrink-0 ml-2",children:(0,d.jsx)(s.default,{width:"16",height:"16",className:"text-muted-foreground"})})]})}),(0,d.jsx)("div",{className:"w-[10%] pr-4",children:(0,d.jsx)("span",{className:"text-sm",children:"Auto"})}),(0,d.jsx)("div",{className:"w-[30%]",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:(0,m.cn)("font-mono text-sm truncate",a.isVerified?"text-green-700 dark:text-green-400":"opacity-50"),children:"MX"===a.type?(0,d.jsxs)(d.Fragment,{children:[a.value.split(" ")[1],!a.isVerified&&a.value.split(" ")[1].endsWith(`.${J}`)&&(0,d.jsxs)("span",{className:"text-destructive ml-1",children:["(Remove .",J,")"]})]}):a.value}),(0,d.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>au("MX"===a.type?a.value.split(" ")[1]:a.value),className:"h-8 w-8 p-0 hover:bg-muted border border-border rounded flex-shrink-0 ml-2",children:(0,d.jsx)(s.default,{width:"16",height:"16",className:"text-muted-foreground"})})]})}),(0,d.jsx)("div",{className:"w-[15%] text-right ml-2",children:(0,d.jsxs)("div",{className:"flex items-center justify-end",children:[(0,d.jsx)("span",{className:(0,m.cn)("text-sm",a.isVerified&&"MX"===a.type?"text-green-700 dark:text-green-400":""),children:"MX"===a.type?a.value.split(" ")[0]:""}),"MX"===a.type&&(0,d.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>au("MX"===a.type?a.value.split(" ")[0]:""),className:"h-8 w-8 p-0 hover:bg-muted border border-border rounded flex-shrink-0 ml-2",children:(0,d.jsx)(s.default,{width:"16",height:"16",className:"text-muted-foreground"})})]})})]},`${a.type}-${b}`)),0===T.length&&(0,d.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No DNS records available yet."})]})]}),L&&(0,d.jsx)("p",{className:"mt-4 text-sm text-destructive",children:L}),(0,d.jsx)("div",{className:"flex gap-3 mt-10"})]}),!_&&!ab&&2===H&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(t.default,{width:"80",height:"80",className:"mx-auto mb-5 text-green-600"}),(0,d.jsx)("h2",{className:"mb-2 text-2xl font-semibold text-foreground",children:"Domain Verified!"}),(0,d.jsxs)("p",{className:"text-muted-foreground mb-1",children:["Your domain ",(0,d.jsx)("span",{className:"font-semibold text-foreground",children:J})," is now ready."]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:b[2].description}),(0,d.jsxs)("div",{className:"flex gap-4 justify-center mt-10",children:[(0,d.jsx)(j.Button,{onClick:()=>an.push("/emails"),variant:"primary",children:"View Domains"}),(0,d.jsx)(j.Button,{onClick:()=>{I(0),K(""),U([]),W(""),M("")},variant:"secondary",children:"Add Another Domain"})]})]})]},H)})})]})})}}}};

//# sourceMappingURL=_b3df5795._.js.map