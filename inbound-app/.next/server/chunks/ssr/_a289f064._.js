module.exports={304880:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({AnnualSwitch:()=>q,PricingCard:()=>n,PricingCardButton:()=>p,PricingFeatureList:()=>o,PricingTable:()=>m,RecommendedBadge:()=>r,usePricingTableContext:()=>c});var d=a.i(674420),e=a.i(722851),f=a.i(284103),g=a.i(974137),h=a.i(378903),i=a.i(196544),j=a.i(140859),k=a.i(714513),l=a.i(816486);let b=(0,e.createContext)({isAnnual:!1,setIsAnnual:()=>{},products:[],showFeatures:!0,uniform:!1}),c=a=>{let c=(0,e.useContext)(b);if(void 0===c)throw Error(`${a} must be used within <PricingTable />`);return c},m=({children:a,products:c,showFeatures:g=!0,className:h,uniform:i=!1})=>{let[j,l]=(0,e.useState)(!1);if((0,k.useSession)(),!c)throw Error("products is required in <PricingTable />");if(0===c.length)return(0,d.jsx)(d.Fragment,{});let m=c.length%2==0;return(0,d.jsx)(b.Provider,{value:{isAnnual:j,setIsAnnual:l,products:c,showFeatures:g,uniform:i},children:(0,d.jsxs)("div",{className:(0,f.cn)("flex items-center flex-col space-y-8"),children:[c.some(a=>a.priceAnnual)&&(0,d.jsx)("div",{children:(0,d.jsx)(q,{isAnnual:j,setIsAnnual:l})}),(0,d.jsx)("div",{className:(0,f.cn)("w-full grid grid-cols-1 gap-6 max-w-6xl mx-auto",m&&"sm:grid-cols-2",c.length>=3&&"lg:grid-cols-3",h),children:a})]})})},n=({productId:a,className:b,onButtonClick:e,buttonProps:g})=>{let{isAnnual:i,products:j,showFeatures:m,uniform:n}=c("PricingCard"),{data:q}=(0,k.useSession)(),s=j.find(b=>b.id===a);if(!s)throw Error(`Product with id ${a} not found`);let{name:t,price:u,priceAnnual:v,recommendedText:w,buttonText:x,items:y,description:z,buttonUrl:A,everythingFrom:B}=s,C=!!w;return(0,d.jsxs)("div",{className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow relative flex flex-col h-full",C&&"border-primary shadow-lg scale-105 bg-primary/5",b),children:[w&&(0,d.jsx)(r,{recommended:w}),(0,d.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col space-y-1.5 pb-4",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold leading-none tracking-tight",children:t}),z&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:z})]}),"free"!==u.primaryText.toLowerCase()?(0,d.jsxs)("div",{className:"border-t border-b py-4 mb-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold",children:i&&v?v?.primaryText:u.primaryText}),u.secondaryText&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:i&&v?v?.secondaryText:u.secondaryText})]}):(0,d.jsx)("div",{className:"border-t py-4"}),m&&y.length>0&&(0,d.jsx)("div",{className:"flex-grow mb-6",children:(0,d.jsx)(o,{items:y,showIcon:!0,everythingFrom:B})}),q?(0,d.jsx)("div",{className:"mt-auto pt-4",children:(0,d.jsx)(p,{recommended:C,onClick:e,buttonUrl:A,...g,children:x})}):(0,d.jsx)("div",{className:"mt-auto pt-4",children:(0,d.jsx)(l.default,{href:"/login",children:(0,d.jsx)(h.Button,{variant:"primary",className:"w-full",children:"Login to get started"})})})]})]})},o=({items:a,showIcon:b=!0,everythingFrom:c,className:e})=>(0,d.jsxs)("div",{className:(0,f.cn)("space-y-3",e),children:[c&&(0,d.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Everything from ",c,", plus:"]}),a.map((a,c)=>(0,d.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[b&&(0,d.jsx)(i.default,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:"text-card-foreground",children:a.primaryText}),a.secondaryText&&(0,d.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:a.secondaryText})]})]},c))]}),p=e.default.forwardRef(({recommended:a,children:b,buttonUrl:c,onClick:g,className:i,...k},l)=>{let[m,n]=(0,e.useState)(!1);return(0,d.jsx)(h.Button,{className:(0,f.cn)("w-full",i),variant:a?"primary":"secondary",size:"lg",ref:l,disabled:m,onClick:async a=>{n(!0);try{if(g)return void await g(a);if(c)return void window.open(c,"_blank")}catch(a){throw a}finally{n(!1)}},...k,children:m?(0,d.jsx)(j.default,{className:"h-4 w-4 animate-spin"}):b})});p.displayName="PricingCardButton";let q=({isAnnual:a,setIsAnnual:b})=>(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-3 p-4 rounded-xl border bg-card",children:[(0,d.jsx)("span",{className:(0,f.cn)("text-sm font-medium",a?"text-muted-foreground":"text-card-foreground"),children:"Monthly"}),(0,d.jsx)(g.Switch,{id:"annual-billing",checked:a,onCheckedChange:b}),(0,d.jsx)("span",{className:(0,f.cn)("text-sm font-medium",a?"text-card-foreground":"text-muted-foreground"),children:"Annual"}),a&&(0,d.jsx)("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded-full font-medium",children:"Save 20%"})]}),r=({recommended:a})=>(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground text-sm font-medium px-3 py-1 rounded-full border",children:a})}},277647:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({PricingTable:()=>b});var d=a.i(674420),e=a.i(304880),f=a.i(140859);a.i(779128);var g=a.i(805175),h=a.i(35335),i=a.i(969405);let b=()=>{let{attach:a}=(0,g.useAutumn)(),{products:b,isLoading:c,error:j}=(0,h.usePricingTable)();return c?(0,d.jsx)("div",{className:"w-full h-full flex justify-center items-center min-h-[300px]",children:(0,d.jsx)(f.default,{className:"w-6 h-6 text-zinc-400 animate-spin"})}):j?(0,d.jsx)("div",{children:" Something went wrong..."}):(0,d.jsx)("div",{children:b&&(0,d.jsx)(e.PricingTable,{products:b,children:b.map(b=>(0,d.jsx)(e.PricingCard,{productId:b.id,buttonProps:{onClick:async()=>{await a({productId:b.id,successUrl:`${process.env.NEXT_PUBLIC_BETTER_AUTH_URL}/settings?upgrade=true`,dialog:i.default})}}},b.id))})})}}},995658:function(a){var{g:b,__dirname:c,m:d,e:e}=a;"use strict";e._=function(a){return a&&a.__esModule?a:{default:a}}},124210:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"warnOnce",{enumerable:!0,get:function(){return a}});let a=a=>{}}},588047:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return f}});let b=a.r(722851);function f(a,c){let d=(0,b.useRef)(null),e=(0,b.useRef)(null);return(0,b.useCallback)(b=>{if(null===b){let a=d.current;a&&(d.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(d.current=g(a,b)),c&&(e.current=g(c,b))},[a,c])}function g(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),d.exports=e.default)}},196544:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M6.5,14c-.192,0-.384-.073-.53-.22l-3.75-3.75c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l3.22,3.22L14.72,3.97c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061L7.03,13.78c-.146,.146-.338,.22-.53,.22Z",fill:a})})]})}}},24491:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M16.586,8.004L10.005,3.011c-.38-.288-.883-.335-1.311-.124-.429,.213-.694,.642-.694,1.12v1.993H2.75c-.965,0-1.75,.785-1.75,1.75v2.5c0,.965,.785,1.75,1.75,1.75h5.25v1.993c0,.478,.266,.907,.694,1.12,.177,.088,.368,.131,.557,.131,.267,0,.531-.086,.754-.255l6.581-4.994c.314-.238,.494-.601,.494-.996s-.18-.757-.494-.996Z",fill:a})})]})}}},140859:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M9,5c-.414,0-.75-.336-.75-.75V1.75c0-.414,.336-.75,.75-.75s.75,.336,.75,.75v2.5c0,.414-.336,.75-.75,.75Z",fill:a}),(0,d.jsx)("path",{d:"M12.359,6.391c-.192,0-.384-.073-.53-.22-.293-.293-.293-.768,0-1.061l1.768-1.768c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061l-1.768,1.768c-.146,.146-.338,.22-.53,.22Z",fill:a,opacity:".88"}),(0,d.jsx)("path",{d:"M16.25,9.75h-2.5c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75h2.5c.414,0,.75,.336,.75,.75s-.336,.75-.75,.75Z",fill:a,opacity:".75"}),(0,d.jsx)("path",{d:"M14.126,14.876c-.192,0-.384-.073-.53-.22l-1.768-1.768c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l1.768,1.768c.293,.293,.293,.768,0,1.061-.146,.146-.338,.22-.53,.22Z",fill:a,opacity:".63"}),(0,d.jsx)("path",{d:"M9,17c-.414,0-.75-.336-.75-.75v-2.5c0-.414,.336-.75,.75-.75s.75,.336,.75,.75v2.5c0,.414-.336,.75-.75,.75Z",fill:a,opacity:".5"}),(0,d.jsx)("path",{d:"M3.874,14.876c-.192,0-.384-.073-.53-.22-.293-.293-.293-.768,0-1.061l1.768-1.768c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061l-1.768,1.768c-.146,.146-.338,.22-.53,.22Z",fill:a,opacity:".38"}),(0,d.jsx)("path",{d:"M4.25,9.75H1.75c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75h2.5c.414,0,.75,.336,.75,.75s-.336,.75-.75,.75Z",fill:a,opacity:".25"}),(0,d.jsx)("path",{d:"M5.641,6.391c-.192,0-.384-.073-.53-.22l-1.768-1.768c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l1.768,1.768c.293,.293,.293,.768,0,1.061-.146,.146-.338,.22-.53,.22Z",fill:a,opacity:".13"})]})]})}}},607804:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Information:()=>j,PriceItem:()=>k,PricingDialog:()=>b,PricingDialogButton:()=>o,PricingDialogFooter:()=>m,PricingDialogTitle:()=>c,QuantityInput:()=>l,TotalPrice:()=>n});var d=a.i(674420),e=a.i(284103),f=a.i(232997),g=a.i(378903),h=a.i(24491),i=a.i(722851);let b=({open:a,setOpen:b,children:c,className:g})=>(0,d.jsx)(f.Dialog,{open:a,onOpenChange:b,children:(0,d.jsx)(f.DialogContent,{className:(0,e.cn)(g,"p-0 rounded-lg text-foreground gap-0 text-sm shadow-inner"),children:c})}),c=({children:a,className:b})=>(0,d.jsx)(f.DialogTitle,{className:(0,e.cn)(b,"font-bold text-xl px-6 pt-4 pb-2"),children:a}),j=({children:a,className:b})=>(0,d.jsx)("div",{className:(0,e.cn)(b,"text-foreground px-6 pb-3 text-sm whitespace-pre-line"),children:a}),k=({children:a,className:b,...c})=>(0,d.jsx)("div",{className:(0,e.cn)("flex flex-col text-muted-foreground pb-4 sm:pb-0 gap-1 sm:flex-row justify-between px-6 sm:h-7 sm:gap-2 sm:items-center  sm:whitespace-nowrap ",b),...c,children:a}),l=({children:a,onChange:b,value:c,className:f,...h})=>{let i=Number(c)||0,j=a=>{b({target:{value:String(a)}})};return(0,d.jsxs)("div",{className:(0,e.cn)(f,"flex flex-row items-center gap-4"),...h,children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(g.Button,{variant:"secondary",size:"icon",onClick:()=>i>0&&j(i-1),disabled:i<=0,className:"h-6 w-6 pb-0.5",children:"-"}),(0,d.jsx)("span",{className:"w-8 text-center text-foreground",children:i}),(0,d.jsx)(g.Button,{variant:"secondary",size:"icon",onClick:()=>j(i+1),className:"h-6 w-6 pb-0.5",children:"+"})]}),a]})},m=({children:a,className:b})=>(0,d.jsx)(f.DialogFooter,{className:(0,e.cn)(b,"flex flex-col sm:flex-row justify-between py-3 px-4 bg-stone-100 dark:bg-zinc-900 rounded-b-lg mt-4 border-t"),children:a}),n=({children:a})=>(0,d.jsx)("div",{className:"px-2 w-full mb-4 sm:mb-0 font-semibold flex justify-between items-center",children:a}),o=i.default.forwardRef(({children:a,onClick:b,className:c,...f},i)=>(0,d.jsxs)(g.Button,{onClick:b,...f,ref:i,className:(0,e.cn)(c,"shadow-sm shadow-stone-400"),children:[a,(0,d.jsx)(h.default,{className:"!h-3"})]}));o.displayName="PricingDialogButton"}},874152:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({getProductChangeTexts:()=>b});var d=a.i(674420);let b=a=>{let{scenario:b,product_name:c,recurring:e,current_product_name:f,next_cycle_at:g}=a,h=g?new Date(g).toLocaleDateString():void 0;switch(b){case"scheduled":return{title:(0,d.jsxs)("p",{children:[c," product already scheduled"]}),message:(0,d.jsxs)("p",{children:["You are currently on product ",f," and are scheduled to start ",c," on ",h,"."]})};case"active":return{title:(0,d.jsx)("p",{children:"Product already active"}),message:(0,d.jsx)("p",{children:"You are already subscribed to this product."})};case"new":if(e)return{title:(0,d.jsxs)("p",{children:["Subscribe to ",c]}),message:(0,d.jsxs)("p",{children:["By clicking confirm, you will be subscribed to ",c," and your card will be charged immediately."]})};return{title:(0,d.jsxs)("p",{children:["Purchase ",c]}),message:(0,d.jsxs)("p",{children:["By clicking confirm, you will purchase ",c," and your card will be charged immedaitely."]})};case"renew":return{title:(0,d.jsx)("p",{children:"Renew"}),message:(0,d.jsxs)("p",{children:["By clicking confirm, you will renew your subscription to"," ",c,"."]})};case"upgrade":return{title:(0,d.jsxs)("p",{children:["Upgrade to ",c]}),message:(0,d.jsxs)("p",{children:["By clicking confirm, you will upgrade your subscription to"," ",c," and your card will be charged immediately."]})};case"downgrade":return{title:(0,d.jsxs)("p",{children:["Downgrade to ",c]}),message:(0,d.jsxs)("p",{children:["By clicking confirm, your current subscription to"," ",f," will be cancelled and a new subscription to"," ",c," will begin on ",h,"."]})};case"cancel":return{title:(0,d.jsx)("p",{children:"Cancel"}),message:(0,d.jsxs)("p",{children:["By clicking confirm, your subscription to ",f," ","will end on ",h,"."]})};default:return{title:(0,d.jsx)("p",{children:"Change Subscription"}),message:(0,d.jsx)("p",{children:"You are about to change your subscription."})}}}}},969405:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>j});var d=a.i(674420),e=a.i(722851),f=a.i(140859),g=a.i(607804),h=a.i(874152);a.i(779128);var i=a.i(805175);function j(a){let{attach:b}=(0,i.useAutumn)(),[c,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(0),[m,n]=(0,e.useState)(a?.preview?.options||[]);if((0,e.useEffect)(()=>{let a=0;m.forEach(b=>{b.price&&b.quantity&&(a+=b.price*b.quantity)}),l(a)},[m]),(0,e.useEffect)(()=>{n(a?.preview?.options||[])},[a?.preview?.options]),!a||!a.preview)return(0,d.jsx)(d.Fragment,{});let{open:o,setOpen:p,preview:q}=a,{items:r,due_today:s,error_on_attach:t}=q,{title:u,message:v}=(0,h.getProductChangeTexts)(q);return(0,d.jsxs)(g.PricingDialog,{open:o,setOpen:p,children:[(0,d.jsx)(g.PricingDialogTitle,{children:u}),(0,d.jsx)(g.Information,{children:v}),r&&r.length>0&&r.map(a=>{let{description:b,price:c}=a;return(0,d.jsxs)(g.PriceItem,{children:[(0,d.jsx)("span",{children:b}),(0,d.jsx)("span",{children:c})]},b)}),m.length>0&&m.map((a,b)=>{let{feature_name:c,billing_units:e,quantity:f,price:h}=a;return(0,d.jsxs)(g.PriceItem,{children:[(0,d.jsx)("span",{children:c}),(0,d.jsx)(g.QuantityInput,{value:f?f/e:"",onChange:a=>{let c=[...m];c[b].quantity=parseInt(a.target.value)*e,n(c)},children:(0,d.jsxs)("span",{className:"text-muted-foreground",children:["Ã— $",h," per ",1===e?" ":e," ",c]})},c)]},c)}),(0,d.jsxs)(g.PricingDialogFooter,{children:[s&&(0,d.jsxs)(g.TotalPrice,{children:[(0,d.jsx)("span",{children:"Due Today"}),(0,d.jsx)("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:s.currency}).format(s.price+k)})]}),(0,d.jsx)(g.PricingDialogButton,{size:"sm",onClick:async()=>{j(!0);try{t||await b({productId:q.product_id,options:m.map(a=>({featureId:a.feature_id,quantity:a.quantity||0}))}),p(!1)}catch(a){console.error(a)}j(!1)},disabled:c,children:c?(0,d.jsx)(f.default,{className:"w-4 h-4 animate-spin"}):"Confirm"})]})]})}}};

//# sourceMappingURL=_a289f064._.js.map