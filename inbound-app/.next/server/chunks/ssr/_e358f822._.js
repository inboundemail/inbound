module.exports={123546:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Card:()=>b,CardContent:()=>i,CardDescription:()=>h,CardFooter:()=>j,CardHeader:()=>c,CardTitle:()=>g});var d=a.i(674420),e=a.i(722851),f=a.i(284103);let b=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));b.displayName="Card";let c=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));c.displayName="CardHeader";let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b}));g.displayName="CardTitle";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));h.displayName="CardDescription";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));i.displayName="CardContent";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));j.displayName="CardFooter"}},24491:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M16.586,8.004L10.005,3.011c-.38-.288-.883-.335-1.311-.124-.429,.213-.694,.642-.694,1.12v1.993H2.75c-.965,0-1.75,.785-1.75,1.75v2.5c0,.965,.785,1.75,1.75,1.75h5.25v1.993c0,.478,.266,.907,.694,1.12,.177,.088,.368,.131,.557,.131,.267,0,.531-.086,.754-.255l6.581-4.994c.314-.238,.494-.601,.494-.996s-.18-.757-.494-.996Z",fill:a})})]})}}},195743:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm3.843,5.708l-4.25,5.5c-.136,.176-.343,.283-.565,.291-.01,0-.019,0-.028,0-.212,0-.415-.09-.558-.248l-2.25-2.5c-.277-.308-.252-.782,.056-1.06,.309-.276,.781-.252,1.06,.056l1.648,1.832,3.701-4.789c.253-.328,.725-.388,1.052-.135,.328,.253,.388,.724,.135,1.052Z",fill:a})})]})}}},754563:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({computeRoute:()=>j,default:()=>o,inject:()=>l,pageview:()=>n,track:()=>m});var d=()=>{window.va||(window.va=function(...a){(window.vaq=window.vaq||[]).push(a)})};function e(){return"undefined"!=typeof window}function f(){return"production"}function g(){return(e()?window.vam:f())||"production"}function h(){return"production"===g()}function i(){return"development"===g()}function j(a,b){if(!a||!b)return a;let c=a;try{let a=Object.entries(b);for(let[b,d]of a)if(!Array.isArray(d)){let a=k(d);a.test(c)&&(c=c.replace(a,`/[${b}]`))}for(let[b,d]of a)if(Array.isArray(d)){let a=k(d.join("/"));a.test(c)&&(c=c.replace(a,`/[...${b}]`))}return c}catch(b){return a}}function k(a){return RegExp(`/${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(a={debug:!0}){var b;if(!e())return;!function(a="auto"){if("auto"===a){window.vam=f();return}window.vam=a}(a.mode),d(),a.beforeSend&&(null==(b=window.va)||b.call(window,"beforeSend",a.beforeSend));let c=a.scriptSrc?a.scriptSrc:i()?"https://va.vercel-scripts.com/v1/script.debug.js":a.basePath?`${a.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${c}"]`))return;let g=document.createElement("script");g.src=c,g.defer=!0,g.dataset.sdkn="@vercel/analytics"+(a.framework?`/${a.framework}`:""),g.dataset.sdkv="1.5.0",a.disableAutoTrack&&(g.dataset.disableAutoTrack="1"),a.endpoint?g.dataset.endpoint=a.endpoint:a.basePath&&(g.dataset.endpoint=`${a.basePath}/insights`),a.dsn&&(g.dataset.dsn=a.dsn),g.onerror=()=>{let a=i()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${c}. ${a}`)},i()&&!1===a.debug&&(g.dataset.debug="false"),document.head.appendChild(g)}function m(a,b,c){var d,f;if(!e()){let a="[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment";if(h())console.warn(a);else throw Error(a);return}if(!b){null==(d=window.va)||d.call(window,"event",{name:a,options:c});return}try{let d=function(a,b){if(!a)return;let c=a,d=[];for(let[e,f]of Object.entries(a))"object"==typeof f&&null!==f&&(b.strip?c=function(a,{[a]:b,...c}){return c}(e,c):d.push(e));if(d.length>0&&!b.strip)throw Error(`The following properties are not valid: ${d.join(", ")}. Only strings, numbers, booleans, and null are allowed.`);return c}(b,{strip:h()});null==(f=window.va)||f.call(window,"event",{name:a,data:d,options:c})}catch(a){a instanceof Error&&i()&&console.error(a)}}function n({route:a,path:b}){var c;null==(c=window.va)||c.call(window,"pageview",{route:a,path:b})}var o={inject:l,track:m,computeRoute:j}},566825:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({CustomInboundIcon:()=>b,default:()=>c});var d=a.i(674420);let b=({size:a=64,backgroundColor:b="#A50A3E",Icon:c,text:e,iconScale:f=.5,iconColor:g="white",className:h=""})=>{let i=a*f,j=.3*a,k=.4*a;return(0,d.jsx)("div",{className:`inline-flex items-center justify-center ${h}`,style:{width:a,height:a,backgroundColor:b,borderRadius:j,background:`linear-gradient(180deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 100%), ${b}`,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:c?(0,d.jsx)(c,{width:i,height:i,style:{color:g,filter:"drop-shadow(0px 1px 2px rgba(0,0,0,0.1))"}}):e?(0,d.jsx)("span",{style:{fontSize:k,fontWeight:"bold",color:g,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:e.slice(0,2)}):null})},c=b}},300096:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M14.868,6.191c-.213-.426-.642-.691-1.118-.691h-2.653l1.088-2.798c.149-.385,.099-.818-.134-1.159-.233-.34-.619-.543-1.031-.543H6.85c-.522,0-.994,.329-1.174,.819l-2.385,6.501c-.14,.383-.083,.812,.15,1.146,.234,.334,.617,.533,1.024,.533h3.79l-1.727,6.044c-.1,.348,.063,.717,.387,.878,.107,.053,.221,.078,.334,.078,.229,0,.454-.106,.6-.3L14.751,7.5c.285-.381,.33-.882,.117-1.309Z",fill:a})})]})}}},146629:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({checkMigrationNeeded:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("009bc667e4551b976ae0c15e50cbf919762c4f6f91",d.callServer,void 0,d.findSourceMapURL,"checkMigrationNeeded")},793938:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({migrateWebhooksToEndpoints:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("00a849d61ace5e9280f8827e33dcb81c884d88af53",d.callServer,void 0,d.findSourceMapURL,"migrateWebhooksToEndpoints")},12237:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useEndpointsQuery:()=>b});var d=a.i(18337),e=a.i(378727),f=a.i(722851),g=a.i(146629),h=a.i(793938);async function i(){let a=await fetch("/api/v2/endpoints");if(!a.ok)throw Error("Failed to fetch endpoints");return(await a.json()).data||[]}let b=()=>{let a=(0,e.useQueryClient)(),[b,c]=(0,f.useState)(!1),[j,k]=(0,f.useState)(!1),l=(0,d.useQuery)({queryKey:["endpoints"],queryFn:i,staleTime:3e5});return(0,f.useEffect)(()=>{(async()=>{if(l.isSuccess&&l.data?.length===0&&!b&&!j)try{console.log("ðŸ” Checking if webhook migration is needed...");let b=await (0,g.checkMigrationNeeded)();if(b.success&&b.migrationNeeded){k(!0),console.log("ðŸš€ Starting automatic webhook migration...");let b=await (0,h.migrateWebhooksToEndpoints)();b.success?(console.log(`âœ… Migration completed: ${b.migratedCount} webhooks migrated`),a.invalidateQueries({queryKey:["endpoints"]})):console.error("âŒ Migration failed:",b.error)}else console.log("â„¹ï¸ No migration needed")}catch(a){console.error("âŒ Error during migration check/process:",a)}finally{c(!0),k(!1)}})()},[l.isSuccess,l.data,b,j,a]),{...l,migrationInProgress:j,migrationChecked:b}}}},699389:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useCreateEndpointMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(754563);async function g(a){let b=await fetch("/api/v2/endpoints",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error((await b.json()).error||"Failed to create endpoint");return await b.json()}let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:g,onSuccess:b=>{(0,f.track)("Endpoint Created",{endpointType:b.type,endpointName:b.name,endpointId:b.id}),a.invalidateQueries({queryKey:["endpoints"]})}})}}},19745:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useUpdateEndpointMutation:()=>b});var d=a.i(513929),e=a.i(378727);async function f(a){let{id:b,data:c}=a,d=await fetch(`/api/v2/endpoints/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error((await d.json()).error||"Failed to update endpoint");return await d.json()}let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:f,onSuccess:()=>{a.invalidateQueries({queryKey:["endpoints"]})}})}}},208649:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useDeleteEndpointMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(754563);async function g(a){let b=await fetch(`/api/v2/endpoints/${a}`,{method:"DELETE"});if(!b.ok)throw Error((await b.json()).error||"Failed to delete endpoint");return await b.json()}let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:g,onSuccess:(b,c)=>{(0,f.track)("Endpoint Deleted",{endpointId:c}),a.invalidateQueries({queryKey:["endpoints"]})}})}}},91883:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({deleteMultipleEndpoints:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("40515f2a1a45eae61cc5c66b637f7b7f5d38b98ad9",d.callServer,void 0,d.findSourceMapURL,"deleteMultipleEndpoints")},786242:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useDeleteMultipleEndpointsMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(91883);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:f.deleteMultipleEndpoints,onSuccess:()=>{a.invalidateQueries({queryKey:["endpoints"]})}})}}},522749:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useTestEndpointMutation:()=>b});var d=a.i(513929);async function e(a){let{id:b,webhookFormat:c}=a,d=await fetch(`/api/v2/endpoints/${b}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:c?JSON.stringify({webhookFormat:c}):void 0});if(!d.ok)throw Error((await d.json()).error||"Failed to test endpoint");return await d.json()}let b=()=>(0,d.useMutation)({mutationFn:e})}},201446:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useMigrationMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(793938);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:f.migrateWebhooksToEndpoints,onSuccess:()=>{a.invalidateQueries({queryKey:["endpoints"]})}})}}},445346:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(12237),a.i(699389),a.i(19745),a.i(208649),a.i(786242),a.i(522749),a.i(201446)},440712:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(12237),a.i(699389),a.i(19745),a.i(208649),a.i(786242),a.i(522749),a.i(201446),a.i(445346)},31634:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({completeOnboarding:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("40d01e1907c9b1aadfc6cf61c68b9fb60a9d17348f",d.callServer,void 0,d.findSourceMapURL,"completeOnboarding")},235318:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>w});var d=a.i(674420),e=a.i(722851),f=a.i(714513),g=a.i(918656),h=a.i(123546),i=a.i(378903),j=a.i(238769),k=a.i(569164),l=a.i(520910),m=a.i(300096),n=a.i(195743),o=a.i(24491),p=a.i(483182),q=a.i(566825);a.i(440712);var r=a.i(699389),s=a.i(12237),t=a.i(378727),u=a.i(323772),v=a.i(31634);function w(){let{data:a,isPending:b}=(0,f.useSession)(),c=(0,g.useRouter)(),w=(0,t.useQueryClient)(),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[B,C]=(0,e.useState)(!1),D=(0,r.useCreateEndpointMutation)(),{data:E=[],isLoading:F}=(0,s.useEndpointsQuery)(),G=E.length>0;(0,e.useEffect)(()=>{b||a?.user||c.push("/login")},[a,b,c]);let H=async()=>{if(a?.user?.email){A(!0);try{let b=a.user.name||a.user.email.split("@")[0]||"User",c={name:`${b} Email Endpoint`,type:"email",description:"Default email forwarding endpoint created during onboarding",config:{forwardTo:a.user.email,includeAttachments:!0,subjectPrefix:""}};await D.mutateAsync(c),C(!0),u.toast.success("Email endpoint created successfully!")}catch(a){console.error("Error creating endpoint:",a),u.toast.error(a instanceof Error?a.message:"Failed to create endpoint")}finally{A(!1)}}},I=async()=>{if(a?.user?.id){y(!0);try{let b=await (0,v.completeOnboarding)(a.user.id);if(!b.success)throw Error(b.error||"Failed to complete onboarding");w.invalidateQueries({queryKey:["onboarding-status"]}),u.toast.success("Welcome to Inbound! ðŸŽ‰"),c.push("/add?onboarding=true")}catch(a){console.error("Error completing onboarding:",a),u.toast.error(a instanceof Error?a.message:"Failed to complete onboarding")}finally{y(!1)}}};return b?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?.user?(0,d.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-1 tracking-tight",children:["Welcome to Inbound, ",a.user.name||a.user.email?.split("@")[0],"!"]}),(0,d.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Transform any domain into a powerful email infrastructure"})]}),(0,d.jsx)(h.Card,{className:"bg-blue-500/10 border-blue-500/30 rounded-xl mb-6",children:(0,d.jsxs)(h.CardContent,{className:"p-6",children:[(0,d.jsx)("h3",{className:"font-semibold text-blue-300 mb-3",children:"How Inbound Works"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-blue-200",children:[(0,d.jsxs)("p",{children:["â€¢ ",(0,d.jsx)("strong",{children:"Add your domain"})," - Connect any domain you own (example.com)"]}),(0,d.jsxs)("p",{children:["â€¢ ",(0,d.jsx)("strong",{children:"Configure DNS"})," - Simple DNS setup to route emails to Inbound"]}),(0,d.jsxs)("p",{children:["â€¢ ",(0,d.jsx)("strong",{children:"Create endpoints"})," - Set up email forwarding, webhooks, or groups"]}),(0,d.jsxs)("p",{children:["â€¢ ",(0,d.jsx)("strong",{children:"Receive emails"})," - Get emails at any address @yourdomain.com"]})]})]})}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,d.jsx)(h.Card,{className:"bg-card border-border rounded-xl",children:(0,d.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,d.jsx)(q.CustomInboundIcon,{Icon:l.default,size:40,backgroundColor:"#3b82f6",className:"mx-auto mb-3"}),(0,d.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Add Domain"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your domain to start receiving emails"})]})}),(0,d.jsx)(h.Card,{className:"bg-card border-border rounded-xl",children:(0,d.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,d.jsx)(q.CustomInboundIcon,{Icon:k.default,size:40,backgroundColor:"#10b981",className:"mx-auto mb-3"}),(0,d.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Create Endpoint"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Set up email forwarding or webhooks"}),G||B?(0,d.jsxs)(j.Badge,{className:"bg-green-100 text-green-800",children:[(0,d.jsx)(n.default,{className:"h-3 w-3 mr-1"}),G?"Already Created":"Created"]}):(0,d.jsxs)(i.Button,{onClick:H,disabled:z||F,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,d.jsx)(p.default,{className:"h-3 w-3 mr-1"}),z?"Creating...":"Create"]})]})}),(0,d.jsx)(h.Card,{className:"bg-card border-border rounded-xl",children:(0,d.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,d.jsx)(q.CustomInboundIcon,{Icon:m.default,size:40,backgroundColor:"#8b5cf6",className:"mx-auto mb-3"}),(0,d.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Advanced"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Webhooks, groups, and integrations"})]})})]}),(0,d.jsx)(h.Card,{className:"bg-card border-border rounded-xl mb-6",children:(0,d.jsxs)(h.CardContent,{className:"p-6",children:[(0,d.jsx)("h3",{className:"font-semibold text-foreground mb-3",children:"Next Steps"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${G||B?"bg-green-500":"bg-blue-500"}`}),(0,d.jsx)("span",{className:G||B?"line-through text-muted-foreground/60":"",children:"Create your first endpoint above"}),(G||B)&&(0,d.jsx)("span",{className:"text-green-500 text-xs",children:"âœ“ Done"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,d.jsx)("span",{children:"Add and verify your domain"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full"}),(0,d.jsx)("span",{children:"Configure email addresses"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-muted-foreground/40 rounded-full"}),(0,d.jsx)("span",{children:"Start receiving emails at your domain"})]})]})]})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(i.Button,{onClick:I,disabled:x,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white",children:x?"Completing setup...":(0,d.jsxs)(d.Fragment,{children:["Continue to Domain Setup",(0,d.jsx)(o.default,{className:"h-4 w-4 ml-2"})]})}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"This will mark your onboarding as complete and take you to add your first domain."})]})]})}):null}}};

//# sourceMappingURL=_e358f822._.js.map