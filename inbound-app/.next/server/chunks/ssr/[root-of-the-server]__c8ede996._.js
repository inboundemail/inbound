module.exports={429380:a=>{var{g:b,__dirname:c}=a;a.n(a.i(483241))},222086:a=>{var{g:b,__dirname:c}=a;a.n(a.i(170773))},445875:a=>{var{g:b,__dirname:c}=a;a.n(a.i(253380))},657904:a=>{var{g:b,__dirname:c}=a;a.n(a.i(349996))},521018:a=>{var{g:b,__dirname:c}=a;a.n(a.i(435178))},942505:a=>{var{g:b,__dirname:c}=a;a.n(a.i(106157))},745431:a=>{var{g:b,__dirname:c}=a;a.n(a.i(541884))},801327:a=>{var{g:b,__dirname:c}=a;a.n(a.i(906079))},13182:a=>{var{g:b,__dirname:c}=a;a.n(a.i(212509))},660874:function(a){var{g:b,__dirname:c,m:d,e:e}=a;d.exports=a.r(929549)},715847:a=>{var{g:b,__dirname:c}=a;a.n(a.i(103439))},781045:a=>{var{g:b,__dirname:c}=a;a.n(a.i(909856))},913994:a=>{var{g:b,__dirname:c}=a;a.n(a.i(330020))},133224:a=>{var{g:b,__dirname:c}=a;a.n(a.i(685294))},139035:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({CreateReceiptRuleSetCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRuleSet",{}).n("SESClient","CreateReceiptRuleSetCommand").f(void 0,void 0).ser(h.se_CreateReceiptRuleSetCommand).de(h.de_CreateReceiptRuleSetCommand).build(){}}},778105:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({CreateReceiptRuleCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRule",{}).n("SESClient","CreateReceiptRuleCommand").f(void 0,void 0).ser(h.se_CreateReceiptRuleCommand).de(h.de_CreateReceiptRuleCommand).build(){}}},274805:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({UpdateReceiptRuleCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateReceiptRule",{}).n("SESClient","UpdateReceiptRuleCommand").f(void 0,void 0).ser(h.se_UpdateReceiptRuleCommand).de(h.de_UpdateReceiptRuleCommand).build(){}}},634249:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({DeleteReceiptRuleCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRule",{}).n("SESClient","DeleteReceiptRuleCommand").f(void 0,void 0).ser(h.se_DeleteReceiptRuleCommand).de(h.de_DeleteReceiptRuleCommand).build(){}}},247278:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({DescribeReceiptRuleSetCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRuleSet",{}).n("SESClient","DescribeReceiptRuleSetCommand").f(void 0,void 0).ser(h.se_DescribeReceiptRuleSetCommand).de(h.de_DescribeReceiptRuleSetCommand).build(){}}},251045:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({SetActiveReceiptRuleSetCommand:()=>b}),a.i(475631);var d=a.i(513837);a.i(186772);var e=a.i(215606);a.i(627697);var f=a.i(452950),g=a.i(628689),h=a.i(47002);class b extends f.Command.classBuilder().ep(g.commonParams).m(function(a,b,c,f){return[(0,e.getSerdePlugin)(c,this.serialize,this.deserialize),(0,d.getEndpointPlugin)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetActiveReceiptRuleSet",{}).n("SESClient","SetActiveReceiptRuleSetCommand").f(void 0,void 0).ser(h.se_SetActiveReceiptRuleSetCommand).de(h.de_SetActiveReceiptRuleSetCommand).build(){}}},117090:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{let b=await a.y("prettier/plugins/html");a.n(b),c()}catch(a){c(a)}},!0)},820927:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{let b=await a.y("prettier/standalone");a.n(b),c()}catch(a){c(a)}},!0)},195141:function(a){"use strict";var{g:b,__dirname:c,m:d,e:e}=a,f=function(a){var b,c,d;return!!(b=a)&&"object"==typeof b&&(c=a,"[object RegExp]"!==(d=Object.prototype.toString.call(c))&&"[object Date]"!==d&&c.$$typeof!==g)},g="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function h(a,b){return!1!==b.clone&&b.isMergeableObject(a)?l(Array.isArray(a)?[]:{},a,b):a}function i(a,b,c){return a.concat(b).map(function(a){return h(a,c)})}function j(a){return Object.keys(a).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(b){return Object.propertyIsEnumerable.call(a,b)}):[])}function k(a,b){try{return b in a}catch(a){return!1}}function l(a,b,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||f,c.cloneUnlessOtherwiseSpecified=h;var d,e,g=Array.isArray(b);return g!==Array.isArray(a)?h(b,c):g?c.arrayMerge(a,b,c):(e={},(d=c).isMergeableObject(a)&&j(a).forEach(function(b){e[b]=h(a[b],d)}),j(b).forEach(function(c){k(a,c)&&!(Object.hasOwnProperty.call(a,c)&&Object.propertyIsEnumerable.call(a,c))||(k(a,c)&&d.isMergeableObject(b[c])?e[c]=(function(a,b){if(!b.customMerge)return l;var c=b.customMerge(a);return"function"==typeof c?c:l})(c,d)(a[c],b[c],d):e[c]=h(b[c],d))}),e)}l.all=function(a,b){if(!Array.isArray(a))throw Error("first argument should be an array");return a.reduce(function(a,c){return l(a,c,b)},{})},d.exports=l},988668:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({extractEmailAddress:()=>i,extractEmailAddresses:()=>j,extractEmailDomain:()=>g,formatEmailAddress:()=>h,parseEmail:()=>e,sanitizeHtml:()=>f});var d=a.i(225073);async function e(a){try{let b=await (0,d.simpleParser)(a),c=a=>a?Array.isArray(a)?{text:a.map(a=>a.text||`${a.name||""} <${a.address||""}>`).join(", "),addresses:a.map(a=>({name:a.name||null,address:a.address||null}))}:a.value&&Array.isArray(a.value)?{text:a.text,addresses:a.value.map(a=>({name:a.name||null,address:a.address||null}))}:a.value?{text:a.text,addresses:[{name:a.value.name||null,address:a.value.address||null}]}:{text:a.text||`${a.name||""} <${a.address||""}>`,addresses:[{name:a.name||null,address:a.address||null}]}:null;return{messageId:b.messageId,date:b.date,subject:b.subject,from:c(b.from),to:c(b.to),cc:c(b.cc),bcc:c(b.bcc),replyTo:c(b.replyTo),inReplyTo:b.inReplyTo,references:Array.isArray(b.references)?b.references:b.references?[b.references]:void 0,textBody:b.text,htmlBody:b.html||void 0,raw:a,attachments:b.attachments?.map(a=>({filename:a.filename,contentType:a.contentType,size:a.size,contentId:a.contentId,contentDisposition:a.contentDisposition}))||[],headers:Object.fromEntries(b.headers),priority:b.priority}}catch(a){throw console.error("Error parsing email:",a),a}}function f(a){return a?a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/gi,"").replace(/on\w+='[^']*'/gi,"").replace(/javascript:/gi,"").replace(/vbscript:/gi,"").replace(/(?<!src=["'])data:(?!image\/)/gi,""):""}function g(a){let b=a.match(/@([^>]+)/);return b?b[1]:""}function h(a){let b=a.match(/^(.+?)\s*<(.+?)>$/);return b?{name:b[1].replace(/['"]/g,"").trim(),address:b[2].trim()}:{name:"",address:a.trim()}}function i(a){return a?"string"==typeof a?a:a.text?a.text:Array.isArray(a)&&a.length>0?a[0].text||a[0].address||"unknown":a.address?a.address:a.name?a.name:"unknown":"unknown"}function j(a){return a?"string"==typeof a?[a]:Array.isArray(a)?a.map(a=>a.text||a.address||"unknown"):a.text?[a.text]:a.address?[a.address]:[]:[]}},311955:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Card:()=>b,CardContent:()=>i,CardDescription:()=>h,CardFooter:()=>j,CardHeader:()=>c,CardTitle:()=>g});var d=a.i(129629),e=a.i(465421),f=a.i(989128);let b=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));b.displayName="Card";let c=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));c.displayName="CardHeader";let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("font-semibold leading-none tracking-tight",a),...b}));g.displayName="CardTitle";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));h.displayName="CardDescription";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));i.displayName="CardContent";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));j.displayName="CardFooter"}},332088:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Badge:()=>g,badgeVariants:()=>b});var d=a.i(129629),e=a.i(57262),f=a.i(989128);let b=(0,e.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:c,...e}){return(0,d.jsx)("div",{className:(0,f.cn)(b({variant:c}),a),...e})}}},392598:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"m10.25,1.688c-.414,0-.75.336-.75.75v3.55c-.081.262-1.278.95-3.5.95s-3.408-.681-3.5-.947v-3.553c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7.125c0,1.675,2.592,2.438,5,2.438s5-.763,5-2.438V2.438c0-.414-.336-.75-.75-.75Zm-4.25,8.812c-2.224,0-3.422-.689-3.5-.938v-1.761c.96.43,2.253.636,3.5.636s2.541-.207,3.501-.637v1.748c-.079.262-1.277.951-3.501.951Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("ellipse",{cx:"6",cy:"2.438",fill:b,rx:"5",ry:"2.438",strokeWidth:"0"})]})]})}}},161982:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{let{createClientModuleProxy:b}=a.r(77624);a.n(b("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))}},502549:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{let{createClientModuleProxy:b}=a.r(77624);a.n(b("[project]/node_modules/next/dist/client/app-dir/link.js"))}},331055:a=>{"use strict";var{g:b,__dirname:c}=a;a.i(161982);var d=a.i(502549);a.n(d)},758575:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M16.25,8.25h-3.517c-.157-3.641-1.454-7.25-3.733-7.25s-3.576,3.609-3.733,7.25H1.75v1.5h3.517c.157,3.641,1.454,7.25,3.733,7.25s3.576-3.609,3.733-7.25h3.517v-1.5ZM9,2.5c.858,0,2.079,2.216,2.233,5.75H6.767c.154-3.534,1.375-5.75,2.233-5.75Zm0,13c-.858,0-2.079-2.216-2.233-5.75h4.467c-.154,3.534-1.375,5.75-2.233,5.75Z",fill:b}),(0,d.jsx)("path",{d:"M9,17c-4.411,0-8-3.589-8-8S4.589,1,9,1s8,3.589,8,8-3.589,8-8,8Zm0-14.5c-3.584,0-6.5,2.916-6.5,6.5s2.916,6.5,6.5,6.5,6.5-2.916,6.5-6.5-2.916-6.5-6.5-6.5Z",fill:a})]})]})}}},691553:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M14.783,2.813l-5.25-1.68c-.349-.112-.718-.111-1.066,0L3.216,2.813c-.728,.233-1.216,.903-1.216,1.667v6.52c0,3.508,4.946,5.379,6.46,5.869,.177,.057,.358,.086,.54,.086s.362-.028,.538-.085c1.516-.49,6.462-2.361,6.462-5.869V4.48c0-.764-.489-1.434-1.217-1.667Zm-2.681,4.389l-3.397,4.5c-.128,.169-.322,.276-.534,.295-.021,.002-.043,.003-.065,.003-.189,0-.372-.071-.511-.201l-1.609-1.5c-.303-.283-.32-.757-.038-1.06,.284-.303,.758-.319,1.06-.038l1.001,.933,2.896-3.836c.25-.33,.72-.396,1.051-.146,.331,.25,.396,.72,.146,1.051Z",fill:a})})]})}}},523084:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm0,2c.414,0,.75,.336,.75,.75s-.336,.75-.75,.75-.75-.336-.75-.75,.336-.75,.75-.75ZM3.75,9.75c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75,.75,.336,.75,.75-.336,.75-.75,.75Zm5.25,5.25c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75,.75,.336,.75,.75-.336,.75-.75,.75Zm.53-5.47c-.146,.146-.338,.22-.53,.22s-.384-.073-.53-.22l-2.25-2.25c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l1.72,1.72,2.97-2.97c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061l-3.5,3.5Zm4.72,.22c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75,.75,.336,.75,.75-.336,.75-.75,.75Z",fill:a})})]})}}},756447:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"m10.428,2.867l-2.295-2.294c-.363-.364-.867-.573-1.382-.573h-3.001C2.233,0,1,1.233,1,2.75v6.5c0,1.517,1.233,2.75,2.75,2.75h4.5c1.517,0,2.75-1.233,2.75-2.75v-5.001c0-.521-.203-1.012-.572-1.382Zm-3.355-1.233l2.294,2.293c.021.021.032.049.049.073h-2.415V1.585c.024.016.051.027.071.048,0,0,0,0,0,0Z",fill:a,strokeWidth:"0"})})]})}}},244:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(129629);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M9.03034 12.2197C8.73734 11.9267 8.26275 11.9267 7.96985 12.2197C7.67695 12.5127 7.67685 12.9873 7.96985 13.2802L9.17744 14.4877C9.11784 14.4897 9.06024 14.4999 9.00014 14.4999C5.96744 14.4999 3.50014 12.0326 3.50014 8.99989C3.50014 7.49209 4.09535 6.08732 5.17595 5.04432C5.47385 4.75672 5.48215 4.28208 5.19455 3.98378C4.90745 3.68638 4.43235 3.67762 4.13405 3.96522C2.75805 5.29332 2.00024 7.08139 2.00024 8.99989C2.00024 12.7602 4.98244 15.8285 8.70464 15.9848L7.96995 16.7197C7.67695 17.0127 7.67695 17.4873 7.96995 17.7802C8.11645 17.9267 8.30834 17.9999 8.50024 17.9999C8.69214 17.9999 8.88405 17.9267 9.03055 17.7802L11.2805 15.5302C11.5735 15.2372 11.5735 14.7626 11.2805 14.4697L9.03034 12.2197Z",fill:a}),(0,d.jsx)("path",{d:"M9.29555 2.01512L10.0302 1.28014C10.3232 0.987137 10.3232 0.512613 10.0302 0.219713C9.73724 -0.0731875 9.26265 -0.0732875 8.96975 0.219713L6.71975 2.46971C6.42675 2.76271 6.42675 3.23724 6.71975 3.53014L8.96975 5.78014C9.11625 5.92664 9.30815 5.99986 9.50005 5.99986C9.69195 5.99986 9.88385 5.92664 10.0304 5.78014C10.3234 5.48714 10.3234 5.01261 10.0304 4.71971L8.82255 3.5117C8.88195 3.5097 8.94045 3.49999 9.00015 3.49999C12.0328 3.49999 14.5001 5.96729 14.5001 8.99999C14.5001 10.5 13.9039 11.9048 12.8219 12.9556C12.5245 13.2442 12.5177 13.7188 12.8063 14.0161C12.9533 14.1675 13.1486 14.2436 13.3444 14.2436C13.5329 14.2436 13.7214 14.1733 13.8669 14.0317C15.2424 12.6963 16.0002 10.9091 16.0002 8.99999C16.0002 5.23969 13.0177 2.17142 9.29555 2.01512Z",fill:b})]})]})}}},260125:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getAnalytics:()=>m});var d=a.i(930768);a.i(996945);var e=a.i(107729),f=a.i(409950),g=a.i(900707);a.i(508384);var h=a.i(954523),i=a.i(988777),j=a.i(737169),k=a.i(746362),l=a.i(753461);async function m(){try{let a=await e.auth.api.getSession({headers:await (0,f.headers)()}),b=performance.now();if(!a?.user?.id)return{success:!1,error:"Unauthorized"};let c=a.user.id,d=new Date,m=new Date(d.getTime()-864e5),n=new Date(d.getTime()-6048e5),o=new Date(d.getTime()-2592e6),[p,q,r,s,t,u,v]=await Promise.all([g.db.select({count:(0,l.count)()}).from(h.structuredEmails).where((0,i.eq)(h.structuredEmails.userId,c)),g.db.select({count:(0,l.count)()}).from(h.structuredEmails).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,m))),g.db.select({count:(0,l.count)()}).from(h.structuredEmails).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,n))),g.db.select({count:(0,l.count)()}).from(h.structuredEmails).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,o))),g.db.select({count:(0,l.count)()}).from(h.emailDomains).where((0,i.eq)(h.emailDomains.userId,c)),g.db.select({count:(0,l.count)()}).from(h.emailDomains).where((0,i.and)((0,i.eq)(h.emailDomains.userId,c),(0,i.eq)(h.emailDomains.status,h.DOMAIN_STATUS.VERIFIED),(0,i.eq)(h.emailDomains.canReceiveEmails,!0))),g.db.select({count:(0,l.count)()}).from(h.emailAddresses).where((0,i.eq)(h.emailAddresses.userId,c))]),w=await g.db.select({id:h.structuredEmails.id,messageId:h.structuredEmails.messageId,fromData:h.structuredEmails.fromData,toData:h.structuredEmails.toData,subject:h.structuredEmails.subject,createdAt:h.structuredEmails.createdAt,textBody:h.structuredEmails.textBody,htmlBody:h.structuredEmails.htmlBody,rawContent:h.structuredEmails.rawContent,spamVerdict:h.sesEvents.spamVerdict,virusVerdict:h.sesEvents.virusVerdict,spfVerdict:h.sesEvents.spfVerdict,dkimVerdict:h.sesEvents.dkimVerdict,dmarcVerdict:h.sesEvents.dmarcVerdict,emailContent:h.sesEvents.emailContent,s3ContentSize:h.sesEvents.s3ContentSize,processingTimeMillis:h.sesEvents.processingTimeMillis}).from(h.structuredEmails).leftJoin(h.sesEvents,(0,i.eq)(h.structuredEmails.sesEventId,h.sesEvents.id)).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,n))).orderBy((0,j.desc)(h.structuredEmails.createdAt)).limit(100),x=await g.db.select({hour:k.sql`DATE_TRUNC('hour', ${h.structuredEmails.createdAt})`,count:(0,l.count)()}).from(h.structuredEmails).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,m))).groupBy(k.sql`DATE_TRUNC('hour', ${h.structuredEmails.createdAt})`).orderBy(k.sql`DATE_TRUNC('hour', ${h.structuredEmails.createdAt})`),y=new Map;x.forEach(a=>{let b=new Date(a.hour).getHours();y.set(b.toString(),a.count)});let z=[];for(let a=0;a<24;a++){let b=0===a?12:a>12?a-12:a,c=a<12?"AM":"PM",d=`${b} ${c}`;z.push({hour:d,count:y.get(a.toString())||0})}let A=await g.db.select({domain:k.sql`SPLIT_PART((${h.structuredEmails.toData}::jsonb->'addresses'->0->>'address'), '@', 2)`,count:(0,l.count)()}).from(h.structuredEmails).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,n),k.sql`${h.structuredEmails.toData} IS NOT NULL`,k.sql`${h.structuredEmails.toData}::jsonb->'addresses'->0->>'address' IS NOT NULL`)).groupBy(k.sql`SPLIT_PART((${h.structuredEmails.toData}::jsonb->'addresses'->0->>'address'), '@', 2)`).orderBy((0,j.desc)((0,l.count)())).limit(10),B=await g.db.select({avg:k.sql`AVG(${h.sesEvents.processingTimeMillis})`}).from(h.sesEvents).innerJoin(h.structuredEmails,(0,i.eq)(h.structuredEmails.sesEventId,h.sesEvents.id)).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,o))),C=await g.db.select({spfVerdict:h.sesEvents.spfVerdict,dkimVerdict:h.sesEvents.dkimVerdict,dmarcVerdict:h.sesEvents.dmarcVerdict,spamVerdict:h.sesEvents.spamVerdict,virusVerdict:h.sesEvents.virusVerdict,count:(0,l.count)()}).from(h.sesEvents).innerJoin(h.structuredEmails,(0,i.eq)(h.structuredEmails.sesEventId,h.sesEvents.id)).where((0,i.and)((0,i.eq)(h.structuredEmails.userId,c),(0,i.gte)(h.structuredEmails.createdAt,n))).groupBy(h.sesEvents.spfVerdict,h.sesEvents.dkimVerdict,h.sesEvents.dmarcVerdict,h.sesEvents.spamVerdict,h.sesEvents.virusVerdict),D=a=>{if(!a)return null;try{let b=JSON.parse(a);if(b?.addresses?.[0]?.address)return{address:b.addresses[0].address,name:b.addresses[0].name||void 0}}catch(a){console.warn("Failed to parse email address JSON:",a)}return null},E=w.map(a=>{let b=D(a.fromData),c=D(a.toData);return{id:a.id,messageId:a.messageId||"",from:b?.address||"Unknown",recipient:c?.address||"Unknown",subject:a.subject||"No Subject",receivedAt:(a.createdAt||new Date).toISOString(),status:"received",domain:c?.address?.split("@")[1]||"",isRead:!1,readAt:void 0,authResults:{spf:a.spfVerdict||"UNKNOWN",dkim:a.dkimVerdict||"UNKNOWN",dmarc:a.dmarcVerdict||"UNKNOWN",spam:a.spamVerdict||"UNKNOWN",virus:a.virusVerdict||"UNKNOWN"},hasContent:!!(a.textBody||a.htmlBody||a.rawContent||a.emailContent),contentSize:a.s3ContentSize||void 0}}),F=A.reduce((a,b)=>a+b.count,0),G=A.filter(a=>a.domain&&""!==a.domain).map(a=>({domain:a.domain,count:a.count,percentage:F>0?Math.round(a.count/F*100):0})),H={spf:{pass:0,fail:0,neutral:0},dkim:{pass:0,fail:0,neutral:0},dmarc:{pass:0,fail:0,neutral:0},spam:{pass:0,fail:0},virus:{pass:0,fail:0}};C.forEach(a=>{let b=a.count;"PASS"===a.spfVerdict?H.spf.pass+=b:"FAIL"===a.spfVerdict?H.spf.fail+=b:H.spf.neutral+=b,"PASS"===a.dkimVerdict?H.dkim.pass+=b:"FAIL"===a.dkimVerdict?H.dkim.fail+=b:H.dkim.neutral+=b,"PASS"===a.dmarcVerdict?H.dmarc.pass+=b:"FAIL"===a.dmarcVerdict?H.dmarc.fail+=b:H.dmarc.neutral+=b,"PASS"===a.spamVerdict?H.spam.pass+=b:H.spam.fail+=b,"PASS"===a.virusVerdict?H.virus.pass+=b:H.virus.fail+=b});let I={stats:{totalEmails:p[0]?.count||0,emailsLast24h:q[0]?.count||0,emailsLast7d:r[0]?.count||0,emailsLast30d:s[0]?.count||0,totalDomains:t[0]?.count||0,verifiedDomains:u[0]?.count||0,totalEmailAddresses:v[0]?.count||0,avgProcessingTime:Math.round(B[0]?.avg||0)},recentEmails:E,emailsByHour:z,emailsByDomain:G,authResultsStats:H},J=performance.now();return console.log(`ðŸ•‘ Analytics Server Action took ${(J-b).toFixed(2)}ms`),{success:!0,data:I}}catch(a){return console.error("Analytics Server Action error:",a),{success:!1,error:"Failed to fetch analytics data"}}}(0,a.i(377991).ensureServerEntryExports)([m]),(0,d.registerServerReference)(m,"00028a3933be37780db757429864696d83ba8188be",null)},586833:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{a.s({}),a.i(498718);var d=a.i(253685);a.i(255593),a.i(260125);var e=b([d]);[d]=e.then?(await e)():e,c()}catch(a){c(a)}},!1)},336766:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{a.s({}),a.i(498718);var d=a.i(253685);a.i(255593),a.i(260125);var e=a.i(586833),f=b([d,e]);[d,e]=f.then?(await f)():f,c()}catch(a){c(a)}},!1)},868911:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{a.s({"00028a3933be37780db757429864696d83ba8188be":()=>g.getAnalytics,"00282b3a5eacbbc918f95ec4473b7dc09d0e5ffcf8":()=>d.generateAutumnBillingPortal,"00bd5c39d59f2c9e83dce14d93d44f40e9d2c4f1ae":()=>d.getAutumnCustomer,"00faa09f01a5256e987f59d5eb3348cc00f9bf9491":()=>d.getDomainStats,"4001b46509619c2e0fe09e06802ee8157c6226ec8c":()=>e.sendFeedbackAction,"40d22d6e027abaab42994fd38d69f454c777a42914":()=>f.getOnboardingStatus});var d=a.i(498718),e=a.i(253685),f=a.i(255593),g=a.i(260125),h=a.i(586833),i=b([e,h]);[e,h]=i.then?(await i)():i,c()}catch(a){c(a)}},!1)},203793:a=>{"use strict";var{g:b,__dirname:c,a:d}=a;d(async(b,c)=>{try{a.s({"00028a3933be37780db757429864696d83ba8188be":()=>e["00028a3933be37780db757429864696d83ba8188be"],"00282b3a5eacbbc918f95ec4473b7dc09d0e5ffcf8":()=>e["00282b3a5eacbbc918f95ec4473b7dc09d0e5ffcf8"],"00bd5c39d59f2c9e83dce14d93d44f40e9d2c4f1ae":()=>e["00bd5c39d59f2c9e83dce14d93d44f40e9d2c4f1ae"],"00faa09f01a5256e987f59d5eb3348cc00f9bf9491":()=>e["00faa09f01a5256e987f59d5eb3348cc00f9bf9491"],"4001b46509619c2e0fe09e06802ee8157c6226ec8c":()=>e["4001b46509619c2e0fe09e06802ee8157c6226ec8c"],"40d22d6e027abaab42994fd38d69f454c777a42914":()=>e["40d22d6e027abaab42994fd38d69f454c777a42914"]});var d=a.i(336766),e=a.i(868911),f=b([d,e]);[d,e]=f.then?(await f)():f,c()}catch(a){c(a)}},!1)},631567:a=>{var{g:b,__dirname:c}=a;a.n(a.i(704009))},728426:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({__next_app__:()=>q,pages:()=>c,routeModule:()=>r,tree:()=>b});var d=a.i(429380),e=a.i(222086),f=a.i(445875),g=a.i(657904),h=a.i(521018),i=a.i(942505),j=a.i(745431),k=a.i(801327),l=a.i(13182),m=a.i(133224),n=a.i(631567),o=a.i(660874),p=a.i(715847);a.i(781045);let b=["",{children:["(main)",{children:["analytics",{children:["__PAGE__",{},{metadata:{},page:[()=>n,"[project]/app/(main)/analytics/page.tsx"]}]},{metadata:{}}]},{metadata:{},layout:[()=>m,"[project]/app/(main)/layout.tsx"],"not-found":[()=>i,"[project]/node_modules/next/dist/client/components/not-found-error.js"],forbidden:[()=>j,"[project]/node_modules/next/dist/client/components/forbidden-error.js"],unauthorized:[()=>k,"[project]/node_modules/next/dist/client/components/unauthorized-error.js"]}]},{metadata:{icon:[async a=>[{url:(0,d.fillMetadataSegment)("//",await a.params,"favicon.ico")+`?${e.default.src.split("/").splice(-1)[0]}`,sizes:`${e.default.width}x${e.default.height}`,type:"image/x-icon"}]],twitter:[async a=>[{url:(0,d.fillMetadataSegment)("//",await a.params,"twitter-image.png")+`?${f.default.src.split("/").splice(-1)[0]}`,width:f.default.width,height:f.default.height,type:"image/png"}]],openGraph:[async a=>[{url:(0,d.fillMetadataSegment)("//",await a.params,"opengraph-image.png")+`?${g.default.src.split("/").splice(-1)[0]}`,width:g.default.width,height:g.default.height,type:"image/png"}]]},layout:[()=>h,"[project]/app/layout.tsx"],"not-found":[()=>i,"[project]/node_modules/next/dist/client/components/not-found-error.js"],forbidden:[()=>j,"[project]/node_modules/next/dist/client/components/forbidden-error.js"],unauthorized:[()=>k,"[project]/node_modules/next/dist/client/components/unauthorized-error.js"],"global-error":[()=>l,"[project]/app/global-error.tsx"]}],c=["[project]/app/(main)/analytics/page.tsx"],q={require:a.r,loadChunk:a.l},r=new o.AppPageRouteModule({definition:{kind:p.RouteKind.APP_PAGE,page:"/(main)/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:b}})}},130361:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(429380),a.i(222086),a.i(445875),a.i(657904),a.i(521018),a.i(942505),a.i(745431),a.i(801327),a.i(13182),a.i(133224),a.i(631567),a.i(660874),a.i(715847),a.i(781045),a.i(728426)},533100:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({ClientPageRoot:()=>e.ClientPageRoot,ClientSegmentRoot:()=>e.ClientSegmentRoot,GlobalError:()=>d.default,HTTPAccessFallbackBoundary:()=>e.HTTPAccessFallbackBoundary,LayoutRouter:()=>e.LayoutRouter,MetadataBoundary:()=>e.MetadataBoundary,OutletBoundary:()=>e.OutletBoundary,Postpone:()=>e.Postpone,RenderFromTemplateContext:()=>e.RenderFromTemplateContext,ViewportBoundary:()=>e.ViewportBoundary,__next_app__:()=>f.__next_app__,actionAsyncStorage:()=>e.actionAsyncStorage,collectSegmentData:()=>e.collectSegmentData,createMetadataComponents:()=>e.createMetadataComponents,createPrerenderParamsForClientSegment:()=>e.createPrerenderParamsForClientSegment,createPrerenderSearchParamsForClientPage:()=>e.createPrerenderSearchParamsForClientPage,createServerParamsForServerSegment:()=>e.createServerParamsForServerSegment,createServerSearchParamsForServerPage:()=>e.createServerSearchParamsForServerPage,createTemporaryReferenceSet:()=>e.createTemporaryReferenceSet,decodeAction:()=>e.decodeAction,decodeFormState:()=>e.decodeFormState,decodeReply:()=>e.decodeReply,pages:()=>f.pages,patchFetch:()=>e.patchFetch,preconnect:()=>e.preconnect,preloadFont:()=>e.preloadFont,preloadStyle:()=>e.preloadStyle,prerender:()=>e.prerender,renderToReadableStream:()=>e.renderToReadableStream,routeModule:()=>f.routeModule,serverHooks:()=>e.serverHooks,taintObjectReference:()=>e.taintObjectReference,tree:()=>f.tree,workAsyncStorage:()=>e.workAsyncStorage,workUnitAsyncStorage:()=>e.workUnitAsyncStorage});var d=a.i(13182),e=a.i(913994),f=a.i(728426)},147906:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({ClientPageRoot:()=>d.ClientPageRoot,ClientSegmentRoot:()=>d.ClientSegmentRoot,GlobalError:()=>d.GlobalError,HTTPAccessFallbackBoundary:()=>d.HTTPAccessFallbackBoundary,LayoutRouter:()=>d.LayoutRouter,MetadataBoundary:()=>d.MetadataBoundary,OutletBoundary:()=>d.OutletBoundary,Postpone:()=>d.Postpone,RenderFromTemplateContext:()=>d.RenderFromTemplateContext,ViewportBoundary:()=>d.ViewportBoundary,__next_app__:()=>d.__next_app__,actionAsyncStorage:()=>d.actionAsyncStorage,collectSegmentData:()=>d.collectSegmentData,createMetadataComponents:()=>d.createMetadataComponents,createPrerenderParamsForClientSegment:()=>d.createPrerenderParamsForClientSegment,createPrerenderSearchParamsForClientPage:()=>d.createPrerenderSearchParamsForClientPage,createServerParamsForServerSegment:()=>d.createServerParamsForServerSegment,createServerSearchParamsForServerPage:()=>d.createServerSearchParamsForServerPage,createTemporaryReferenceSet:()=>d.createTemporaryReferenceSet,decodeAction:()=>d.decodeAction,decodeFormState:()=>d.decodeFormState,decodeReply:()=>d.decodeReply,pages:()=>d.pages,patchFetch:()=>d.patchFetch,preconnect:()=>d.preconnect,preloadFont:()=>d.preloadFont,preloadStyle:()=>d.preloadStyle,prerender:()=>d.prerender,renderToReadableStream:()=>d.renderToReadableStream,routeModule:()=>d.routeModule,serverHooks:()=>d.serverHooks,taintObjectReference:()=>d.taintObjectReference,tree:()=>d.tree,workAsyncStorage:()=>d.workAsyncStorage,workUnitAsyncStorage:()=>d.workUnitAsyncStorage}),a.i(130361);var d=a.i(533100)},832501:a=>{var{g:b,__dirname:c}=a;a.v(a=>Promise.resolve().then(()=>a(919379)))},343900:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/9f50b_@smithy_credential-provider-imds_dist-es_1d341466._.js"].map(b=>a.l(b))).then(()=>b(579174)))},432533:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/[externals]_fs_promises_1c68bc94._.js","server/chunks/ssr/9f50b_@aws-sdk_credential-provider-http_7c15c3b6._.js"].map(b=>a.l(b))).then(()=>b(364958)))},732968:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/9f50b_@aws-sdk_credential-provider-web-identity_f9d760f1._.js"].map(b=>a.l(b))).then(()=>b(479956)))},907612:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/9f50b_@aws-sdk_credential-provider-process_dist-es_1b10b6fa._.js"].map(b=>a.l(b))).then(()=>b(612175)))},676140:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/9f50b_7a98b30b._.js"].map(b=>a.l(b))).then(()=>b(233073)))},966373:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/9f50b_@aws-sdk_credential-provider-sso_0da4f5f3._.js"].map(b=>a.l(b))).then(()=>b(437897)))},688168:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/87a6c_@smithy_credential-provider-imds_dist-es_2c8eb853._.js"].map(b=>a.l(b))).then(()=>b(238127)))},913004:a=>{var{g:b,__dirname:c}=a;a.v(a=>Promise.resolve().then(()=>a(681609)))},985182:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/node_modules_@aws-sdk_client-ses_dist-es_commands_SendBounceCommand_b7673ab4.js","server/chunks/ssr/node_modules_@aws-sdk_client-ses_cb7f682f._.js"].map(b=>a.l(b))).then(()=>b(229840)))},898841:a=>{var{g:b,__dirname:c}=a;a.v(a=>Promise.resolve().then(()=>a(225073)))},71672:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__bf80f37d._.js"].map(b=>a.l(b))).then(()=>b(620076)))},195027:a=>{var{g:b,__dirname:c}=a;a.v(b=>Promise.all(["server/chunks/ssr/[externals]_async_hooks_1fca4a31._.js","server/chunks/ssr/node_modules_next_dist_compiled_e6206afd._.js"].map(b=>a.l(b))).then(()=>b(986051)))}};

//# sourceMappingURL=%5Broot-of-the-server%5D__c8ede996._.js.map